<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LLM ðŸ’˜ HTML</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const _l=!1;var Ns=Array.isArray,$s=Array.from,gl=Object.defineProperty,Dt=Object.getOwnPropertyDescriptor,oi=Object.getOwnPropertyDescriptors,yl=Object.prototype,vl=Array.prototype,lr=Object.getPrototypeOf;const Zt=()=>{};function bl(n){return n()}function is(n){for(var e=0;e<n.length;e++)n[e]()}const Re=2,li=4,Mn=8,Ms=16,Ne=32,jn=64,os=128,wt=256,cr=512,ie=1024,st=2048,Yt=4096,Be=8192,Gt=16384,wl=32768,js=65536,xl=1<<17,kl=1<<19,ci=1<<20,Ge=Symbol("$state"),Sl=Symbol("legacy props");function ui(n){return n===this.v}function di(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Ds(n){return!di(n,this.v)}function Al(n){throw new Error("effect_in_teardown")}function El(){throw new Error("effect_in_unowned_derived")}function Cl(n){throw new Error("effect_orphan")}function Pl(){throw new Error("effect_update_depth_exceeded")}function Tl(n){throw new Error("props_invalid_value")}function Ol(){throw new Error("state_descriptors_fixed")}function Rl(){throw new Error("state_prototype_fixed")}function Il(){throw new Error("state_unsafe_local_read")}function Nl(){throw new Error("state_unsafe_mutation")}let Dn=!1;function $l(){Dn=!0}function ye(n){return{f:0,v:n,reactions:null,equals:ui,version:0}}function Pr(n,e=!1){var r;const t=ye(n);return e||(t.equals=Ds),Dn&&Y!==null&&Y.l!==null&&((r=Y.l).s??(r.s=[])).push(t),t}function de(n,e=!1){return Ml(Pr(n,e))}function Ml(n){return H!==null&&H.f&Re&&(Ue===null?nc([n]):Ue.push(n)),n}function M(n,e){return H!==null&&Ir()&&H.f&(Re|Ms)&&(Ue===null||!Ue.includes(n))&&Nl(),fi(n,e)}function fi(n,e){return n.equals(e)||(n.v=e,n.version=Ti(),hi(n,st),Ir()&&F!==null&&F.f&ie&&!(F.f&Ne)&&(se!==null&&se.includes(n)?($e(F,st),$r(F)):rt===null?rc([n]):rt.push(n))),e}function hi(n,e){var t=n.reactions;if(t!==null)for(var r=Ir(),s=t.length,a=0;a<s;a++){var i=t[a],o=i.f;o&st||!r&&i===F||($e(i,e),o&(ie|wt)&&(o&Re?hi(i,Yt):$r(i)))}}const jl=1,Dl=2,Zl=16,Fl=1,Ll=2,mi=4,Bl=8,Ul=16,Vl=1,ql=2,ce=Symbol();let Zs=!1;function Tt(n,e=null,t){if(typeof n!="object"||n===null||Ge in n)return n;const r=lr(n);if(r!==yl&&r!==vl)return n;var s=new Map,a=Ns(n),i=ye(0);a&&s.set("length",ye(n.length));var o;return new Proxy(n,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ol();var d=s.get(l);return d===void 0?(d=ye(u.value),s.set(l,d)):M(d,Tt(u.value,o)),!0},deleteProperty(c,l){var u=s.get(l);if(u===void 0)l in c&&s.set(l,ye(ce));else{if(a&&typeof l=="string"){var d=s.get("length"),f=Number(l);Number.isInteger(f)&&f<d.v&&M(d,f)}M(u,ce),xa(i)}return!0},get(c,l,u){var m;if(l===Ge)return n;var d=s.get(l),f=l in c;if(d===void 0&&(!f||(m=Dt(c,l))!=null&&m.writable)&&(d=ye(Tt(f?c[l]:ce,o)),s.set(l,d)),d!==void 0){var h=x(d);return h===ce?void 0:h}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var d=s.get(l);d&&(u.value=x(d))}else if(u===void 0){var f=s.get(l),h=f==null?void 0:f.v;if(f!==void 0&&h!==ce)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(c,l){var h;if(l===Ge)return!0;var u=s.get(l),d=u!==void 0&&u.v!==ce||Reflect.has(c,l);if(u!==void 0||F!==null&&(!d||(h=Dt(c,l))!=null&&h.writable)){u===void 0&&(u=ye(d?Tt(c[l],o):ce),s.set(l,u));var f=x(u);if(f===ce)return!1}return d},set(c,l,u,d){var E;var f=s.get(l),h=l in c;if(a&&l==="length")for(var m=u;m<f.v;m+=1){var _=s.get(m+"");_!==void 0?M(_,ce):m in c&&(_=ye(ce),s.set(m+"",_))}f===void 0?(!h||(E=Dt(c,l))!=null&&E.writable)&&(f=ye(void 0),M(f,Tt(u,o)),s.set(l,f)):(h=f.v!==ce,M(f,Tt(u,o)));var y=Reflect.getOwnPropertyDescriptor(c,l);if(y!=null&&y.set&&y.set.call(d,u),!h){if(a&&typeof l=="string"){var T=s.get("length"),v=Number(l);Number.isInteger(v)&&v>=T.v&&M(T,v+1)}xa(i)}return!0},ownKeys(c){x(i);var l=Reflect.ownKeys(c).filter(f=>{var h=s.get(f);return h===void 0||h.v!==ce});for(var[u,d]of s)d.v!==ce&&!(u in c)&&l.push(u);return l},setPrototypeOf(){Rl()}})}function xa(n,e=1){M(n,n.v+e)}function ka(n){return n!==null&&typeof n=="object"&&Ge in n?n[Ge]:n}function zl(n,e){return Object.is(ka(n),ka(e))}var Sa,pi,_i;function Wl(){if(Sa===void 0){Sa=window;var n=Element.prototype,e=Node.prototype;pi=Dt(e,"firstChild").get,_i=Dt(e,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function Fs(n=""){return document.createTextNode(n)}function yn(n){return pi.call(n)}function Tr(n){return _i.call(n)}function ve(n,e){return yn(n)}function ur(n,e){{var t=yn(n);return t instanceof Comment&&t.data===""?Tr(t):t}}function xe(n,e=1,t=!1){let r=n;for(;e--;)r=Tr(r);return r}function Jl(n){n.textContent=""}function dr(n){var e=Re|st;F===null?e|=wt:F.f|=ci;var t=H!==null&&H.f&Re?H:null;const r={children:null,ctx:Y,deps:null,equals:ui,f:e,fn:n,reactions:null,v:null,version:0,parent:t??F};return t!==null&&(t.children??(t.children=[])).push(r),r}function Hl(n){const e=dr(n);return e.equals=Ds,e}function gi(n){var e=n.children;if(e!==null){n.children=null;for(var t=0;t<e.length;t+=1){var r=e[t];r.f&Re?Ls(r):ut(r)}}}function Xl(n){for(var e=n.parent;e!==null;){if(!(e.f&Re))return e;e=e.parent}return null}function yi(n){var e,t=F;qe(Xl(n));try{gi(n),e=Oi(n)}finally{qe(t)}return e}function vi(n){var e=yi(n),t=(Nt||n.f&wt)&&n.deps!==null?Yt:ie;$e(n,t),n.equals(e)||(n.v=e,n.version=Ti())}function Ls(n){gi(n),vn(n,0),$e(n,Gt),n.v=n.children=n.deps=n.ctx=n.reactions=null}function bi(n){F===null&&H===null&&Cl(),H!==null&&H.f&wt&&El(),Vs&&Al()}function Kl(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Qt(n,e,t,r=!0){var s=(n&jn)!==0,a=F,i={ctx:Y,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:n|st,first:null,fn:e,last:null,next:null,parent:s?null:a,prev:null,teardown:null,transitions:null,version:0};if(t){var o=Lt;try{Ea(!0),Zn(i),i.f|=wl}catch(u){throw ut(i),u}finally{Ea(o)}}else e!==null&&$r(i);var c=t&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&ci)===0;if(!c&&!s&&r&&(a!==null&&Kl(i,a),H!==null&&H.f&Re)){var l=H;(l.children??(l.children=[])).push(i)}return i}function wi(n){const e=Qt(Mn,null,!1);return $e(e,ie),e.teardown=n,e}function Aa(n){bi();var e=F!==null&&(F.f&Ne)!==0&&Y!==null&&!Y.m;if(e){var t=Y;(t.e??(t.e=[])).push({fn:n,effect:F,reaction:H})}else{var r=Or(n);return r}}function Yl(n){return bi(),en(n)}function Gl(n){const e=Qt(jn,n,!0);return()=>{ut(e)}}function Or(n){return Qt(li,n,!1)}function Hn(n,e,t,r){var s=Y,a={effect:null,ran:!1};s.l.r1.push(a),a.effect=en(()=>{n(),!a.ran&&(a.ran=!0,M(s.l.r2,!0),Qe(e))})}function Ql(){var n=Y;en(()=>{if(x(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&ie&&$e(t,Yt),tn(t)&&Zn(t),e.ran=!1}n.l.r2.v=!1}})}function en(n){return Qt(Mn,n,!0)}function Ft(n){return Rr(n)}function Rr(n,e=0){return Qt(Mn|Ms|e,n,!0)}function Wt(n,e=!0){return Qt(Mn|Ne,n,!0,e)}function xi(n){var e=n.teardown;if(e!==null){const t=Vs,r=H;Ca(!0),at(null);try{e.call(null)}finally{Ca(t),at(r)}}}function ki(n){var e=n.deriveds;if(e!==null){n.deriveds=null;for(var t=0;t<e.length;t+=1)Ls(e[t])}}function Si(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;ut(t,e),t=r}}function ec(n){for(var e=n.first;e!==null;){var t=e.next;e.f&Ne||ut(e),e=t}}function ut(n,e=!0){var t=!1;if((e||n.f&kl)&&n.nodes_start!==null){for(var r=n.nodes_start,s=n.nodes_end;r!==null;){var a=r===s?null:Tr(r);r.remove(),r=a}t=!0}Si(n,e&&!t),ki(n),vn(n,0),$e(n,Gt);var i=n.transitions;if(i!==null)for(const c of i)c.stop();xi(n);var o=n.parent;o!==null&&o.first!==null&&Ai(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function Ai(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function ls(n,e){var t=[];Bs(n,t,!0),Ei(t,()=>{ut(n),e&&e()})}function Ei(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var s of n)s.out(r)}else e()}function Bs(n,e,t){if(!(n.f&Be)){if(n.f^=Be,n.transitions!==null)for(const i of n.transitions)(i.is_global||t)&&e.push(i);for(var r=n.first;r!==null;){var s=r.next,a=(r.f&js)!==0||(r.f&Ne)!==0;Bs(r,e,a?t:!1),r=s}}}function fr(n){Ci(n,!0)}function Ci(n,e){if(n.f&Be){tn(n)&&Zn(n),n.f^=Be;for(var t=n.first;t!==null;){var r=t.next,s=(t.f&js)!==0||(t.f&Ne)!==0;Ci(t,s?e:!1),t=r}if(n.transitions!==null)for(const a of n.transitions)(a.is_global||e)&&a.in()}}let cs=!1,us=[];function tc(){cs=!1;const n=us.slice();us=[],is(n)}function Us(n){cs||(cs=!0,queueMicrotask(tc)),us.push(n)}let tr=!1,hr=!1,mr=null,Lt=!1,Vs=!1;function Ea(n){Lt=n}function Ca(n){Vs=n}let ds=[],pn=0;let H=null;function at(n){H=n}let F=null;function qe(n){F=n}let Ue=null;function nc(n){Ue=n}let se=null,_e=0,rt=null;function rc(n){rt=n}let Pi=0,Nt=!1,Y=null;function Ti(){return++Pi}function Ir(){return!Dn||Y!==null&&Y.l===null}function tn(n){var i,o;var e=n.f;if(e&st)return!0;if(e&Yt){var t=n.deps,r=(e&wt)!==0;if(t!==null){var s;if(e&cr){for(s=0;s<t.length;s++)((i=t[s]).reactions??(i.reactions=[])).push(n);n.f^=cr}for(s=0;s<t.length;s++){var a=t[s];if(tn(a)&&vi(a),r&&F!==null&&!Nt&&!((o=a==null?void 0:a.reactions)!=null&&o.includes(n))&&(a.reactions??(a.reactions=[])).push(n),a.version>n.version)return!0}}r||$e(n,ie)}return!1}function sc(n,e){for(var t=e;t!==null;){if(t.f&os)try{t.fn(n);return}catch{t.f^=os}t=t.parent}throw tr=!1,n}function ac(n){return(n.f&Gt)===0&&(n.parent===null||(n.parent.f&os)===0)}function Nr(n,e,t,r){if(tr){if(t===null&&(tr=!1),ac(e))throw n;return}t!==null&&(tr=!0);{sc(n,e);return}}function Oi(n){var f;var e=se,t=_e,r=rt,s=H,a=Nt,i=Ue,o=Y,c=n.f;se=null,_e=0,rt=null,H=c&(Ne|jn)?null:n,Nt=!Lt&&(c&wt)!==0,Ue=null,Y=n.ctx;try{var l=(0,n.fn)(),u=n.deps;if(se!==null){var d;if(vn(n,_e),u!==null&&_e>0)for(u.length=_e+se.length,d=0;d<se.length;d++)u[_e+d]=se[d];else n.deps=u=se;if(!Nt)for(d=_e;d<u.length;d++)((f=u[d]).reactions??(f.reactions=[])).push(n)}else u!==null&&_e<u.length&&(vn(n,_e),u.length=_e);return l}finally{se=e,_e=t,rt=r,H=s,Nt=a,Ue=i,Y=o}}function ic(n,e){let t=e.reactions;if(t!==null){var r=t.indexOf(n);if(r!==-1){var s=t.length-1;s===0?t=e.reactions=null:(t[r]=t[s],t.pop())}}t===null&&e.f&Re&&(se===null||!se.includes(e))&&($e(e,Yt),e.f&(wt|cr)||(e.f^=cr),vn(e,0))}function vn(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)ic(n,t[r])}function Zn(n){var e=n.f;if(!(e&Gt)){$e(n,ie);var t=F,r=Y;F=n;try{e&Ms?ec(n):Si(n),ki(n),xi(n);var s=Oi(n);n.teardown=typeof s=="function"?s:null,n.version=Pi}catch(a){Nr(a,n,t,r||n.ctx)}finally{F=t}}}function oc(){if(pn>1e3){pn=0;try{Pl()}catch(n){if(mr!==null)Nr(n,mr,null);else throw n}}pn++}function lc(n){var e=n.length;if(e!==0){oc();var t=Lt;Lt=!0;try{for(var r=0;r<e;r++){var s=n[r];s.f&ie||(s.f^=ie);var a=[];Ri(s,a),cc(a)}}finally{Lt=t}}}function cc(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];if(!(r.f&(Gt|Be)))try{tn(r)&&(Zn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ai(r):r.fn=null))}catch(s){Nr(s,r,null,r.ctx)}}}function uc(){if(hr=!1,pn>1001)return;const n=ds;ds=[],lc(n),hr||(pn=0,mr=null)}function $r(n){hr||(hr=!0,queueMicrotask(uc)),mr=n;for(var e=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(jn|Ne)){if(!(t&ie))return;e.f^=ie}}ds.push(e)}function Ri(n,e){var t=n.first,r=[];e:for(;t!==null;){var s=t.f,a=(s&Ne)!==0,i=a&&(s&ie)!==0,o=t.next;if(!i&&!(s&Be))if(s&Mn){if(a)t.f^=ie;else try{tn(t)&&Zn(t)}catch(d){Nr(d,t,null,t.ctx)}var c=t.first;if(c!==null){t=c;continue}}else s&li&&r.push(t);if(o===null){let d=t.parent;for(;d!==null;){if(n===d)break e;var l=d.next;if(l!==null){t=l;continue e}d=d.parent}}t=o}for(var u=0;u<r.length;u++)c=r[u],e.push(c),Ri(c,e)}function x(n){var u;var e=n.f,t=(e&Re)!==0;if(t&&e&Gt){var r=yi(n);return Ls(n),r}if(H!==null){Ue!==null&&Ue.includes(n)&&Il();var s=H.deps;se===null&&s!==null&&s[_e]===n?_e++:se===null?se=[n]:se.push(n),rt!==null&&F!==null&&F.f&ie&&!(F.f&Ne)&&rt.includes(n)&&($e(F,st),$r(F))}else if(t&&n.deps===null)for(var a=n,i=a.parent,o=a;i!==null;)if(i.f&Re){var c=i;o=c,i=c.parent}else{var l=i;(u=l.deriveds)!=null&&u.includes(o)||(l.deriveds??(l.deriveds=[])).push(o);break}return t&&(a=n,tn(a)&&vi(a)),n.v}function Qe(n){const e=H;try{return H=null,n()}finally{H=e}}const dc=~(st|Yt|ie);function $e(n,e){n.f=n.f&dc|e}function Pa(n,e=1){var t=x(n),r=e===1?t++:t--;return M(n,t),r}function Mr(n,e=!1,t){Y={p:Y,c:null,e:null,m:!1,s:n,x:null,l:null},Dn&&!e&&(Y.l={s:null,u:null,r1:[],r2:ye(!1)})}function jr(n){const e=Y;if(e!==null){const i=e.e;if(i!==null){var t=F,r=H;e.e=null;try{for(var s=0;s<i.length;s++){var a=i[s];qe(a.effect),at(a.reaction),Or(a.fn)}}finally{qe(t),at(r)}}Y=e.p,e.m=!0}return{}}function Ii(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Ge in n)fs(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Ge in t&&fs(t)}}}function fs(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{fs(n[r],e)}catch{}const t=lr(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=oi(t);for(let s in r){const a=r[s].get;if(a)try{a.call(n)}catch{}}}}}function fc(n,e){{const t=document.body;n.autofocus=!0,Us(()=>{document.activeElement===t&&n.focus()})}}let Ta=!1;function hc(){Ta||(Ta=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Ni(n){var e=H,t=F;at(null),qe(null);try{return n()}finally{at(e),qe(t)}}function $i(n,e,t,r=t){n.addEventListener(e,()=>Ni(t));const s=n.__on_r;s?n.__on_r=()=>{s(),r(!0)}:n.__on_r=()=>r(!0),hc()}const mc=new Set,Oa=new Set;function pc(n,e,t,r){function s(a){if(r.capture||an.call(e,a),!a.cancelBubble)return Ni(()=>t.call(this,a))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?Us(()=>{e.addEventListener(n,s,r)}):e.addEventListener(n,s,r),s}function ht(n,e,t,r,s){var a={capture:r,passive:s},i=pc(n,e,t,a);(e===document.body||e===window||e===document)&&wi(()=>{e.removeEventListener(n,i,a)})}function an(n){var v;var e=this,t=e.ownerDocument,r=n.type,s=((v=n.composedPath)==null?void 0:v.call(n))||[],a=s[0]||n.target,i=0,o=n.__root;if(o){var c=s.indexOf(o);if(c!==-1&&(e===document||e===window)){n.__root=e;return}var l=s.indexOf(e);if(l===-1)return;c<=l&&(i=c)}if(a=s[i]||n.target,a!==e){gl(n,"currentTarget",{configurable:!0,get(){return a||t}});var u=H,d=F;at(null),qe(null);try{for(var f,h=[];a!==null;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+r];if(_!==void 0&&!a.disabled)if(Ns(_)){var[y,...T]=_;y.apply(a,[n,...T])}else _.call(a,n)}catch(E){f?h.push(E):f=E}if(n.cancelBubble||m===e||m===null)break;a=m}if(f){for(let E of h)queueMicrotask(()=>{throw E});throw f}}finally{n.__root=e,delete n.currentTarget,at(u),qe(d)}}}function Mi(n){var e=document.createElement("template");return e.innerHTML=n,e.content}function pr(n,e){var t=F;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function Je(n,e){var t=(e&Vl)!==0,r=(e&ql)!==0,s,a=!n.startsWith("<!>");return()=>{s===void 0&&(s=Mi(a?n:"<!>"+n),t||(s=yn(s)));var i=r?document.importNode(s,!0):s.cloneNode(!0);if(t){var o=yn(i),c=i.lastChild;pr(o,c)}else pr(i,i);return i}}function ji(){var n=document.createDocumentFragment(),e=document.createComment(""),t=Fs();return n.append(e,t),pr(e,t),n}function we(n,e){n!==null&&n.before(e)}const _c=["touchstart","touchmove"];function gc(n){return _c.includes(n)}function yc(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t==null?"":t+"")}function vc(n,e){return bc(n,e)}const At=new Map;function bc(n,{target:e,anchor:t,props:r={},events:s,context:a,intro:i=!0}){Wl();var o=new Set,c=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!o.has(h)){o.add(h);var m=gc(h);e.addEventListener(h,an,{passive:m});var _=At.get(h);_===void 0?(document.addEventListener(h,an,{passive:m}),At.set(h,1)):At.set(h,_+1)}}};c($s(mc)),Oa.add(c);var l=void 0,u=Gl(()=>{var d=t??e.appendChild(Fs());return Wt(()=>{if(a){Mr({});var f=Y;f.c=a}s&&(r.$$events=s),l=n(d,r)||{},a&&jr()}),()=>{var m;for(var f of o){e.removeEventListener(f,an);var h=At.get(f);--h===0?(document.removeEventListener(f,an),At.delete(f)):At.set(f,h)}Oa.delete(c),Ra.delete(l),d!==t&&((m=d.parentNode)==null||m.removeChild(d))}});return Ra.set(l,u),l}let Ra=new WeakMap;function $t(n,e,t=!1){var r=n,s=null,a=null,i=ce,o=t?js:0,c=!1;const l=(d,f=!0)=>{c=!0,u(f,d)},u=(d,f)=>{i!==(i=d)&&(i?(s?fr(s):f&&(s=Wt(()=>f(r))),a&&ls(a,()=>{a=null})):(a?fr(a):f&&(a=Wt(()=>f(r))),s&&ls(s,()=>{s=null})))};Rr(()=>{c=!1,e(l),c||u(null,null)},o)}function wc(n,e){return e}function xc(n,e,t,r){for(var s=[],a=e.length,i=0;i<a;i++)Bs(e[i].e,s,!0);var o=a>0&&s.length===0&&t!==null;if(o){var c=t.parentNode;Jl(c),c.append(t),r.clear(),nt(n,e[0].prev,e[a-1].next)}Ei(s,()=>{for(var l=0;l<a;l++){var u=e[l];o||(r.delete(u.k),nt(n,u.prev,u.next)),ut(u.e,!o)}})}function kc(n,e,t,r,s,a=null){var i=n,o={flags:e,items:new Map,first:null};{var c=n;i=c.appendChild(Fs())}var l=null,u=!1;Rr(()=>{var d=t(),f=Ns(d)?d:d==null?[]:$s(d),h=f.length;if(!(u&&h===0)){u=h===0;{var m=H;Sc(f,o,i,s,e,(m.f&Be)!==0,r)}a!==null&&(h===0?l?fr(l):l=Wt(()=>a(i)):l!==null&&ls(l,()=>{l=null}))}})}function Sc(n,e,t,r,s,a,i){var o=n.length,c=e.items,l=e.first,u=l,d,f=null,h=[],m=[],_,y,T,v;for(v=0;v<o;v+=1){if(_=n[v],y=i(_,v),T=c.get(y),T===void 0){var E=u?u.e.nodes_start:t;f=Ec(E,e,f,f===null?e.first:f.next,_,y,v,r,s),c.set(y,f),h=[],m=[],u=f.next;continue}if(Ac(T,_,v),T.e.f&Be&&fr(T.e),T!==u){if(d!==void 0&&d.has(T)){if(h.length<m.length){var A=m[0],I;f=A.prev;var C=h[0],O=h[h.length-1];for(I=0;I<h.length;I+=1)Ia(h[I],A,t);for(I=0;I<m.length;I+=1)d.delete(m[I]);nt(e,C.prev,O.next),nt(e,f,C),nt(e,O,A),u=A,f=O,v-=1,h=[],m=[]}else d.delete(T),Ia(T,u,t),nt(e,T.prev,T.next),nt(e,T,f===null?e.first:f.next),nt(e,f,T),f=T;continue}for(h=[],m=[];u!==null&&u.k!==y;)(a||!(u.e.f&Be))&&(d??(d=new Set)).add(u),m.push(u),u=u.next;if(u===null)continue;T=u}h.push(T),f=T,u=T.next}if(u!==null||d!==void 0){for(var $=d===void 0?[]:$s(d);u!==null;)(a||!(u.e.f&Be))&&$.push(u),u=u.next;var B=$.length;if(B>0){var V=o===0?t:null;xc(e,$,V,c)}}F.first=e.first&&e.first.e,F.last=f&&f.e}function Ac(n,e,t,r){fi(n.v,e),n.i=t}function Ec(n,e,t,r,s,a,i,o,c){var l=(c&jl)!==0,u=(c&Zl)===0,d=l?u?Pr(s):ye(s):s,f=c&Dl?ye(i):i,h={i:f,v:d,k:a,a:null,e:null,prev:t,next:r};try{return h.e=Wt(()=>o(n,d,f),Zs),h.e.prev=t&&t.e,h.e.next=r&&r.e,t===null?e.first=h:(t.next=h,t.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Ia(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,s=e?e.e.nodes_start:t,a=n.e.nodes_start;a!==r;){var i=Tr(a);s.before(a),a=i}}function nt(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Cc(n,e,t,r,s){var a=n,i="",o;Rr(()=>{i!==(i=e()??"")&&(o!==void 0&&(ut(o),o=void 0),i!==""&&(o=Wt(()=>{var c=i+"",l=Mi(c);pr(yn(l),l.lastChild),a.before(l)})))})}function qr(n,e,t,r){var s=n.__attributes??(n.__attributes={});s[e]!==(s[e]=t)&&("__styles"in n&&(n.__styles={}),t==null?n.removeAttribute(e):typeof t!="string"&&Pc(n).includes(e)?n[e]=t:n.setAttribute(e,t))}var Na=new Map;function Pc(n){var e=Na.get(n.nodeName);if(e)return e;Na.set(n.nodeName,e=[]);for(var t,r=lr(n),s=Element.prototype;s!==r;){t=oi(r);for(var a in t)t[a].set&&e.push(a);r=lr(r)}return e}function Tc(n,e){var t=n.__className,r=Zi(e);(t!==r||Zs)&&(r===""?n.removeAttribute("class"):n.setAttribute("class",r),n.__className=r)}function Di(n,e){var t=n.__className,r=Zi(e);(t!==r||Zs)&&(e==null?n.removeAttribute("class"):n.className=r,n.__className=r)}function Zi(n){return n??""}function Fi(n,e,t=e){var r=Ir();$i(n,"input",s=>{var a=s?n.defaultValue:n.value;a=zr(n)?Wr(a):a,t(a),r&&a!==(a=e())&&(n.value=a??"")}),Qe(e)==null&&n.value&&t(zr(n)?Wr(n.value):n.value),en(()=>{var s=e();zr(n)&&s===Wr(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function Oc(n,e,t=e){$i(n,"change",r=>{var s=r?n.defaultChecked:n.checked;t(s)}),Qe(e)==null&&t(n.checked),en(()=>{var r=e();n.checked=!!r})}function zr(n){var e=n.type;return e==="number"||e==="range"}function Wr(n){return n===""?null:+n}function hs(n,e,t){if(n.multiple)return Ic(n,e);for(var r of n.options){var s=Li(r);if(zl(s,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Rc(n,e){let t=!0;Or(()=>{e&&hs(n,Qe(e),t),t=!1;var r=new MutationObserver(()=>{var s=n.__value;hs(n,s)});return r.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ic(n,e){for(var t of n.options)t.selected=~e.indexOf(Li(t))}function Li(n){return"__value"in n?n.__value:n.value}function $a(n,e){return n===e||(n==null?void 0:n[Ge])===e}function Nc(n={},e,t,r){return Or(()=>{var s,a;return en(()=>{s=a,a=[],Qe(()=>{n!==t(...a)&&(e(n,...a),s&&$a(t(...s),n)&&e(null,...s))})}),()=>{Us(()=>{a&&$a(t(...a),n)&&e(null,...a)})}}),n}function qs(n=!1){const e=Y,t=e.l.u;if(!t)return;let r=()=>Ii(e.s);if(n){let s=0,a={};const i=dr(()=>{let o=!1;const c=e.s;for(const l in c)c[l]!==a[l]&&(a[l]=c[l],o=!0);return o&&s++,s});r=()=>x(i)}t.b.length&&Yl(()=>{Ma(e,r),is(t.b)}),Aa(()=>{const s=Qe(()=>t.m.map(bl));return()=>{for(const a of s)typeof a=="function"&&a()}}),t.a.length&&Aa(()=>{Ma(e,r),is(t.a)})}function Ma(n,e){if(n.l.s)for(const t of n.l.s)x(t);e()}function $c(n,e,t){if(n==null)return e(void 0),Zt;const r=Qe(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}let Xn=!1;function Mc(n,e,t){const r=t[e]??(t[e]={store:null,source:Pr(void 0),unsubscribe:Zt});if(r.store!==n)if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=Zt;else{var s=!0;r.unsubscribe=$c(n,a=>{s?r.source.v=a:M(r.source,a)}),s=!1}return x(r.source)}function jc(){const n={};return wi(()=>{for(var e in n)n[e].unsubscribe()}),n}function Dc(n){var e=Xn;try{return Xn=!1,[n(),Xn]}finally{Xn=e}}const Zc={get(n,e){if(!n.exclude.includes(e))return x(n.version),e in n.special?n.special[e]():n.props[e]},set(n,e,t){return e in n.special||(n.special[e]=pt({get[e](){return n.props[e]}},e,mi)),n.special[e](t),Pa(n.version),!0},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},deleteProperty(n,e){return n.exclude.includes(e)||(n.exclude.push(e),Pa(n.version)),!0},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function Bi(n,e){return new Proxy({props:n,exclude:e,special:{},version:ye(0)},Zc)}function ja(n){for(var e=F,t=F;e!==null&&!(e.f&(Ne|jn));)e=e.parent;try{return qe(e),n()}finally{qe(t)}}function pt(n,e,t,r){var O;var s=(t&Fl)!==0,a=!Dn||(t&Ll)!==0,i=(t&Bl)!==0,o=(t&Ul)!==0,c=!1,l;i?[l,c]=Dc(()=>n[e]):l=n[e];var u=Ge in n||Sl in n,d=((O=Dt(n,e))==null?void 0:O.set)??(u&&i&&e in n?$=>n[e]=$:void 0),f=r,h=!0,m=!1,_=()=>(m=!0,h&&(h=!1,o?f=Qe(r):f=r),f);l===void 0&&r!==void 0&&(d&&a&&Tl(),l=_(),d&&d(l));var y;if(a)y=()=>{var $=n[e];return $===void 0?_():(h=!0,m=!1,$)};else{var T=ja(()=>(s?dr:Hl)(()=>n[e]));T.f|=xl,y=()=>{var $=x(T);return $!==void 0&&(f=void 0),$===void 0?f:$}}if(!(t&mi))return y;if(d){var v=n.$$legacy;return function($,B){return arguments.length>0?((!a||!B||v||c)&&d(B?y():$),$):y()}}var E=!1,A=!1,I=Pr(l),C=ja(()=>dr(()=>{var $=y(),B=x(I);return E?(E=!1,A=!0,B):(A=!1,I.v=$)}));return s||(C.equals=Ds),function($,B){if(arguments.length>0){const V=B?x(C):a&&i?Tt($):$;return C.equals(V)||(E=!0,M(I,V),m&&f!==void 0&&(f=V),Qe(()=>x(C))),$}return x(C)}}const Fc="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fc);$l();const Ui=["gpt-4o","o1-preview"];var Lc=Je(`<div class="absolute left-0 right-0 top-0 bottom-0 flex justify-center items-center z-30"><div class="shadow bg-slate-400 dark:bg-slate-800 flex flex-col max-w-2xl bg-opacity-10 backdrop-blur-sm"><div class="w-full flex justify-end p-4 bg-slate-500 dark:bg-slate-700"><button class="border-2 dark:border-white dark:text-white bg-transparent p-1 px-2 rounded-none">X</button></div> <div class="p-8"><h1 class="pt-0 mt-4">Instructions</h1> <ol><li>Enter your API Key at the top</li> <li>Select a model</li> <li>Click the "Edit Mode" checkbox to enable editing (it's checked by default)</li> <li>Type in an edit you want to see. Click submit and wait for the model to generate a response.</li> <li>The screen will uodate</li></ol> <h2>Advanced</h2> <ul><li>You can click the <kbd>up</kbd> and <kbd>down</kbd> arrow keys to switch to editing the parent/child of the currently selected element. You can click <kbd>left</kbd> and <kbd>right</kbd> to go to the siblings</li></ul></div></div></div>`);function Bc(n){let e=de(!0);var t=ji(),r=ur(t);{var s=a=>{var i=Lc(),o=ve(i),c=ve(o),l=ve(c);ht("click",l,()=>{M(e,!1)}),we(a,i)};$t(r,a=>{x(e)&&a(s)})}we(n,t)}const ms="RFC3986",ps={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:n=>String(n)},Uc="RFC1738",Vc=Array.isArray,De=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),Jr=1024,qc=(n,e,t,r,s)=>{if(n.length===0)return n;let a=n;if(typeof n=="symbol"?a=Symbol.prototype.toString.call(n):typeof n!="string"&&(a=String(n)),t==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let i="";for(let o=0;o<a.length;o+=Jr){const c=a.length>=Jr?a.slice(o,o+Jr):a,l=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===Uc&&(d===40||d===41)){l[l.length]=c.charAt(u);continue}if(d<128){l[l.length]=De[d];continue}if(d<2048){l[l.length]=De[192|d>>6]+De[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=De[224|d>>12]+De[128|d>>6&63]+De[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),l[l.length]=De[240|d>>18]+De[128|d>>12&63]+De[128|d>>6&63]+De[128|d&63]}i+=l.join("")}return i};function zc(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function Da(n,e){if(Vc(n)){const t=[];for(let r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)}const Wc=Object.prototype.hasOwnProperty,Vi={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},Ze=Array.isArray,Jc=Array.prototype.push,qi=function(n,e){Jc.apply(n,Ze(e)?e:[e])},Hc=Date.prototype.toISOString,Q={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:qc,encodeValuesOnly:!1,format:ms,formatter:ps[ms],indices:!1,serializeDate(n){return Hc.call(n)},skipNulls:!1,strictNullHandling:!1};function Xc(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const Hr={};function zi(n,e,t,r,s,a,i,o,c,l,u,d,f,h,m,_,y,T){let v=n,E=T,A=0,I=!1;for(;(E=E.get(Hr))!==void 0&&!I;){const V=E.get(n);if(A+=1,typeof V<"u"){if(V===A)throw new RangeError("Cyclic object value");I=!0}typeof E.get(Hr)>"u"&&(A=0)}if(typeof l=="function"?v=l(e,v):v instanceof Date?v=f==null?void 0:f(v):t==="comma"&&Ze(v)&&(v=Da(v,function(V){return V instanceof Date?f==null?void 0:f(V):V})),v===null){if(a)return c&&!_?c(e,Q.encoder,y,"key",h):e;v=""}if(Xc(v)||zc(v)){if(c){const V=_?e:c(e,Q.encoder,y,"key",h);return[(m==null?void 0:m(V))+"="+(m==null?void 0:m(c(v,Q.encoder,y,"value",h)))]}return[(m==null?void 0:m(e))+"="+(m==null?void 0:m(String(v)))]}const C=[];if(typeof v>"u")return C;let O;if(t==="comma"&&Ze(v))_&&c&&(v=Da(v,c)),O=[{value:v.length>0?v.join(",")||null:void 0}];else if(Ze(l))O=l;else{const V=Object.keys(v);O=u?V.sort(u):V}const $=o?String(e).replace(/\./g,"%2E"):String(e),B=r&&Ze(v)&&v.length===1?$+"[]":$;if(s&&Ze(v)&&v.length===0)return B+"[]";for(let V=0;V<O.length;++V){const q=O[V],j=typeof q=="object"&&typeof q.value<"u"?q.value:v[q];if(i&&j===null)continue;const he=d&&o?q.replace(/\./g,"%2E"):q,me=Ze(v)?typeof t=="function"?t(B,he):B:B+(d?"."+he:"["+he+"]");T.set(n,A);const kt=new WeakMap;kt.set(Hr,T),qi(C,zi(j,me,t,r,s,a,i,o,t==="comma"&&_&&Ze(v)?null:c,l,u,d,f,h,m,_,y,kt))}return C}function Kc(n=Q){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||Q.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=ms;if(typeof n.format<"u"){if(!Wc.call(ps,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const r=ps[t];let s=Q.filter;(typeof n.filter=="function"||Ze(n.filter))&&(s=n.filter);let a;if(n.arrayFormat&&n.arrayFormat in Vi?a=n.arrayFormat:"indices"in n?a=n.indices?"indices":"repeat":a=Q.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:Q.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:Q.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:Q.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Q.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?Q.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:Q.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:Q.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:Q.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:Q.encodeValuesOnly,filter:s,format:t,formatter:r,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:Q.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:Q.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Q.strictNullHandling}}function Yc(n,e={}){let t=n;const r=Kc(e);let s,a;typeof r.filter=="function"?(a=r.filter,t=a("",t)):Ze(r.filter)&&(a=r.filter,s=a);const i=[];if(typeof t!="object"||t===null)return"";const o=Vi[r.arrayFormat],c=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(t)),r.sort&&s.sort(r.sort);const l=new WeakMap;for(let f=0;f<s.length;++f){const h=s[f];r.skipNulls&&t[h]===null||qi(i,zi(t[h],h,o,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}const u=i.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const Ot="4.76.1";let Za=!1,_n,Wi,Ji,_s,Hi,Xi,Ki,Yi,Gi;function Gc(n,e={auto:!1}){if(Za)throw new Error(`you must \`import 'openai/shims/${n.kind}'\` before importing anything else from openai`);if(_n)throw new Error(`can't \`import 'openai/shims/${n.kind}'\` after \`import 'openai/shims/${_n}'\``);Za=e.auto,_n=n.kind,Wi=n.fetch,Ji=n.FormData,_s=n.File,Hi=n.ReadableStream,Xi=n.getMultipartRequestOptions,Ki=n.getDefaultAgent,Yi=n.fileFromPath,Gi=n.isFsReadStream}class Qc{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function eu({manuallyImported:n}={}){const e=n?"You may need to use polyfills":"Add one of these imports before your first `import â€¦ from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,r,s,a;try{t=fetch,r=Request,s=Response,a=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${e}`)}return{kind:"web",fetch:t,Request:r,Response:s,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(i,o)=>({...o,body:new Qc(i)}),getDefaultAgent:i=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:i=>!1}}_n||Gc(eu(),{auto:!0});class D extends Error{}class ne extends D{constructor(e,t,r,s){super(`${ne.makeMessage(e,t,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const a=t;this.error=a,this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(e,t,r){const s=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,t,r,s){if(!e)return new Dr({message:r,cause:ys(t)});const a=t==null?void 0:t.error;return e===400?new Qi(e,a,r,s):e===401?new eo(e,a,r,s):e===403?new to(e,a,r,s):e===404?new no(e,a,r,s):e===409?new ro(e,a,r,s):e===422?new so(e,a,r,s):e===429?new ao(e,a,r,s):e>=500?new io(e,a,r,s):new ne(e,a,r,s)}}class Ce extends ne{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Dr extends ne{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}class zs extends Dr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Qi extends ne{constructor(){super(...arguments),this.status=400}}class eo extends ne{constructor(){super(...arguments),this.status=401}}class to extends ne{constructor(){super(...arguments),this.status=403}}class no extends ne{constructor(){super(...arguments),this.status=404}}class ro extends ne{constructor(){super(...arguments),this.status=409}}class so extends ne{constructor(){super(...arguments),this.status=422}}class ao extends ne{constructor(){super(...arguments),this.status=429}}class io extends ne{}class oo extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class lo extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class gt{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const r=gt.NEWLINE_CHARS.has(t[t.length-1]||"");let s=t.split(gt.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new D(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new D(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new D("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}gt.NEWLINE_CHARS=new Set([`
`,"\r"]);gt.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Le{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const i of tu(e,t))if(!a){if(i.data.startsWith("[DONE]")){a=!0;continue}if(i.event===null){let o;try{o=JSON.parse(i.data)}catch(c){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),c}if(o&&o.error)throw new ne(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(i.data)}catch(c){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),c}if(i.event=="error")throw new ne(void 0,o.error,o.message,void 0);yield{event:i.event,data:o}}}a=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{a||t.abort()}}return new Le(s,t)}static fromReadableStream(e,t){let r=!1;async function*s(){const i=new gt,o=co(e);for await(const c of o)for(const l of i.decode(c))yield l;for(const c of i.flush())yield c}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of s())i||o&&(yield JSON.parse(o));i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||t.abort()}}return new Le(a,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),s=a=>({next:()=>{if(a.length===0){const i=r.next();e.push(i),t.push(i)}return a.shift()}});return[new Le(()=>s(e),this.controller),new Le(()=>s(t),this.controller)]}toReadableStream(){const e=this;let t;const r=new TextEncoder;return new Hi({async start(){t=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:i}=await t.next();if(i)return s.close();const o=r.encode(JSON.stringify(a)+`
`);s.enqueue(o)}catch(a){s.error(a)}},async cancel(){var s;await((s=t.return)==null?void 0:s.call(t))}})}}async function*tu(n,e){if(!n.body)throw e.abort(),new D("Attempted to iterate over a response with no body");const t=new su,r=new gt,s=co(n.body);for await(const a of nu(s))for(const i of r.decode(a)){const o=t.decode(i);o&&(yield o)}for(const a of r.flush()){const i=t.decode(a);i&&(yield i)}}async function*nu(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let a;for(;(a=ru(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}function ru(n){for(let r=0;r<n.length-2;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}class su{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,s]=au(e,":");return s.startsWith(" ")&&(s=s.substring(1)),t==="event"?this.event=s:t==="data"&&this.data.push(s),null}}function au(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}function co(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const uo=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",fo=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Zr(n),Zr=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",iu=n=>fo(n)||uo(n)||Gi(n);async function ho(n,e,t){var s;if(n=await n,fo(n))return n;if(uo(n)){const a=await n.blob();e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()??"unknown_file");const i=Zr(a)?[await a.arrayBuffer()]:[a];return new _s(i,e,t)}const r=await ou(n);if(e||(e=cu(n)??"unknown_file"),!(t!=null&&t.type)){const a=(s=r[0])==null?void 0:s.type;typeof a=="string"&&(t={...t,type:a})}return new _s(r,e,t)}async function ou(n){var t;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(Zr(n))e.push(await n.arrayBuffer());else if(uu(n))for await(const r of n)e.push(r);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(t=n==null?void 0:n.constructor)==null?void 0:t.name}; props: ${lu(n)}`);return e}function lu(n){return`[${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}function cu(n){var e;return Xr(n.name)||Xr(n.filename)||((e=Xr(n.path))==null?void 0:e.split(/[\\/]/).pop())}const Xr=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},uu=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",Fa=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",Jt=async n=>{const e=await du(n.body);return Xi(e,n)},du=async n=>{const e=new Ji;return await Promise.all(Object.entries(n||{}).map(([t,r])=>gs(e,t,r))),e},gs=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(iu(t)){const r=await ho(t);n.append(e,r)}else if(Array.isArray(t))await Promise.all(t.map(r=>gs(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,s])=>gs(n,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var Bt={},fu=function(n,e,t,r,s){if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t},hu=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Kn;async function mo(n){const{response:e}=n;if(n.options.stream)return Ut("response",e.status,e.url,e.headers,e.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(e,n.controller):Le.fromSSEResponse(e,n.controller);if(e.status===204)return null;if(n.options.__binaryResponse)return e;const t=e.headers.get("content-type");if((t==null?void 0:t.includes("application/json"))||(t==null?void 0:t.includes("application/vnd.api+json"))){const a=await e.json();return Ut("response",e.status,e.url,e.headers,a),po(a,e)}const s=await e.text();return Ut("response",e.status,e.url,e.headers,s),s}function po(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Fr extends Promise{constructor(e,t=mo){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Fr(this.responsePromise,async t=>po(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class mu{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e5,httpAgent:s,fetch:a}){this.baseURL=e,this.maxRetries=Kr("maxRetries",t),this.timeout=Kr("timeout",r),this.httpAgent=s,this.fetch=a??Wi}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...bu(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${Su()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async s=>{const a=s&&Zr(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:t,...s,body:a}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var _;const{method:r,path:s,query:a,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Fa(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,c=this.calculateContentLength(o),l=this.buildURL(s,a);"timeout"in e&&Kr("timeout",e.timeout);const u=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??Ki(l),f=u+1e3;typeof((_=d==null?void 0:d.options)==null?void 0:_.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:i,contentLength:c,retryCount:t});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:t,contentLength:r,retryCount:s}){const a={};r&&(a["content-length"]=r);const i=this.defaultHeaders(e);return Va(a,i),Va(a,t),Fa(e.body)&&_n!=="node"&&delete a["content-type"],qa(i,"x-stainless-retry-count")===void 0&&qa(t,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(s)),this.validateHeaders(a,t),a}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,r,s){return ne.generate(e,t,r,s)}request(e,t=null){return new Fr(this.makeRequest(e,t))}async makeRequest(e,t){var d,f;const r=await e,s=r.maxRetries??this.maxRetries;t==null&&(t=s),await this.prepareOptions(r);const{req:a,url:i,timeout:o}=this.buildRequest(r,{retryCount:s-t});if(await this.prepareRequest(a,{url:i,options:r}),Ut("request",i,r,a.headers),(d=r.signal)!=null&&d.aborted)throw new Ce;const c=new AbortController,l=await this.fetchWithTimeout(i,a,o,c).catch(ys);if(l instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new Ce;if(t)return this.retryRequest(r,t);throw l.name==="AbortError"?new zs:new Dr({cause:l})}const u=_u(l.headers);if(!l.ok){if(t&&this.shouldRetry(l)){const v=`retrying, ${t} attempts remaining`;return Ut(`response (error; ${v})`,l.status,i,u),this.retryRequest(r,t,u)}const h=await l.text().catch(v=>ys(v).message),m=wu(h),_=m?void 0:h;throw Ut(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,l.status,i,u,_),this.makeStatusError(l.status,m,_,u)}return{response:l,options:r,controller:c}}requestAPIList(e,t){const r=this.makeRequest(t,null);return new pu(this,r,e)}buildURL(e,t){const r=ku(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return go(s)||(t={...s,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new D(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,s){const{signal:a,...i}=t||{};a&&a.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),r);return this.fetch.call(void 0,e,{signal:s.signal,...i}).finally(()=>{clearTimeout(o)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r){let s;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(s=o)}const i=r==null?void 0:r["retry-after"];if(i&&!s){const o=parseFloat(i);Number.isNaN(o)?s=Date.parse(i)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,o)}return await Fn(s),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,i=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return i*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ot}`}}class _o{constructor(e,t,r,s){Kn.set(this,void 0),fu(this,Kn,e),this.options=s,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&typeof t.query=="object")t.query={...t.query,...e.params};else if("url"in e){const r=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[s,a]of r)e.url.searchParams.set(s,a);t.query=void 0,t.path=e.url.toString()}return await hu(this,Kn,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Kn=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class pu extends Fr{constructor(e,t,r){super(t,async s=>new r(e,s.response,await mo(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const _u=n=>new Proxy(Object.fromEntries(n.entries()),{get(e,t){const r=t.toString();return e[r.toLowerCase()]||e[r]}}),gu={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},fe=n=>typeof n=="object"&&n!==null&&!go(n)&&Object.keys(n).every(e=>yo(gu,e)),yu=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ot,"X-Stainless-OS":Ba(Deno.build.os),"X-Stainless-Arch":La(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ot,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ot,"X-Stainless-OS":Ba(process.platform),"X-Stainless-Arch":La(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=vu();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ot,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ot,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vu(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const s=r[1]||0,a=r[2]||0,i=r[3]||0;return{browser:e,version:`${s}.${a}.${i}`}}}return null}const La=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Ba=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Ua;const bu=()=>Ua??(Ua=yu()),wu=n=>{try{return JSON.parse(n)}catch{return}},xu=new RegExp("^(?:[a-z]+:)?//","i"),ku=n=>xu.test(n),Fn=n=>new Promise(e=>setTimeout(e,n)),Kr=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new D(`${n} must be an integer`);if(e<0)throw new D(`${n} must be a positive integer`);return e},ys=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null)try{return new Error(JSON.stringify(n))}catch{}return new Error(n)},Yn=n=>{var e,t,r,s;if(typeof process<"u")return((e=Bt==null?void 0:Bt[n])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(t=Deno.env)==null?void 0:t.get)==null?void 0:r.call(t,n))==null?void 0:s.trim()};function go(n){if(!n)return!0;for(const e in n)return!1;return!0}function yo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Va(n,e){for(const t in e){if(!yo(e,t))continue;const r=t.toLowerCase();if(!r)continue;const s=e[t];s===null?delete n[r]:s!==void 0&&(n[r]=s)}}function Ut(n,...e){typeof process<"u"&&(Bt==null?void 0:Bt.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${n}`,...e)}const Su=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),Au=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Eu=n=>typeof(n==null?void 0:n.get)=="function",qa=(n,e)=>{var r;const t=e.toLowerCase();if(Eu(n)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,i,o)=>i+o.toUpperCase());for(const a of[e,t,e.toUpperCase(),s]){const i=n.get(a);if(i)return i}}for(const[s,a]of Object.entries(n))if(s.toLowerCase()===t)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};function Yr(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}class Cu extends _o{constructor(e,t,r,s){super(e,t,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Me extends _o{constructor(e,t,r,s){super(e,t,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const t=(r=e[e.length-1])==null?void 0:r.id;return t?{params:{after:t}}:null}}class W{constructor(e){this._client=e}}let vo=class extends W{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}},Ws=class extends W{constructor(){super(...arguments),this.completions=new vo(this._client)}};Ws.Completions=vo;class bo extends W{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}class wo extends W{create(e,t){return this._client.post("/audio/transcriptions",Jt({body:e,...t}))}}class xo extends W{create(e,t){return this._client.post("/audio/translations",Jt({body:e,...t}))}}class Ln extends W{constructor(){super(...arguments),this.transcriptions=new wo(this._client),this.translations=new xo(this._client),this.speech=new bo(this._client)}}Ln.Transcriptions=wo;Ln.Translations=xo;Ln.Speech=bo;class Js extends W{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return fe(e)?this.list({},e):this._client.getAPIList("/batches",Hs,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class Hs extends Me{}Js.BatchesPage=Hs;class Xs extends W{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/assistants/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},t){return fe(e)?this.list({},e):this._client.getAPIList("/assistants",Ks,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class Ks extends Me{}Xs.AssistantsPage=Ks;function za(n){return typeof n.parse=="function"}const Vt=n=>(n==null?void 0:n.role)==="assistant",ko=n=>(n==null?void 0:n.role)==="function",So=n=>(n==null?void 0:n.role)==="tool";var Ae=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},X=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},vs,nr,rr,on,ln,sr,cn,Xe,un,_r,gr,Rt,Ao;class Eo{constructor(){vs.add(this),this.controller=new AbortController,nr.set(this,void 0),rr.set(this,()=>{}),on.set(this,()=>{}),ln.set(this,void 0),sr.set(this,()=>{}),cn.set(this,()=>{}),Xe.set(this,{}),un.set(this,!1),_r.set(this,!1),gr.set(this,!1),Rt.set(this,!1),Ae(this,nr,new Promise((e,t)=>{Ae(this,rr,e,"f"),Ae(this,on,t,"f")}),"f"),Ae(this,ln,new Promise((e,t)=>{Ae(this,sr,e,"f"),Ae(this,cn,t,"f")}),"f"),X(this,nr,"f").catch(()=>{}),X(this,ln,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},X(this,vs,"m",Ao).bind(this))},0)}_connected(){this.ended||(X(this,rr,"f").call(this),this._emit("connect"))}get ended(){return X(this,un,"f")}get errored(){return X(this,_r,"f")}get aborted(){return X(this,gr,"f")}abort(){this.controller.abort()}on(e,t){return(X(this,Xe,"f")[e]||(X(this,Xe,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=X(this,Xe,"f")[e];if(!r)return this;const s=r.findIndex(a=>a.listener===t);return s>=0&&r.splice(s,1),this}once(e,t){return(X(this,Xe,"f")[e]||(X(this,Xe,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{Ae(this,Rt,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){Ae(this,Rt,!0,"f"),await X(this,ln,"f")}_emit(e,...t){if(X(this,un,"f"))return;e==="end"&&(Ae(this,un,!0,"f"),X(this,sr,"f").call(this));const r=X(this,Xe,"f")[e];if(r&&(X(this,Xe,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...t))),e==="abort"){const s=t[0];!X(this,Rt,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,on,"f").call(this,s),X(this,cn,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=t[0];!X(this,Rt,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,on,"f").call(this,s),X(this,cn,"f").call(this,s),this._emit("end")}}_emitFinal(){}}nr=new WeakMap,rr=new WeakMap,on=new WeakMap,ln=new WeakMap,sr=new WeakMap,cn=new WeakMap,Xe=new WeakMap,un=new WeakMap,_r=new WeakMap,gr=new WeakMap,Rt=new WeakMap,vs=new WeakSet,Ao=function(e){if(Ae(this,_r,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Ce),e instanceof Ce)return Ae(this,gr,!0,"f"),this._emit("abort",e);if(e instanceof D)return this._emit("error",e);if(e instanceof Error){const t=new D(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new D(String(e)))};function Pu(n,e){const t={...n};return Object.defineProperties(t,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),t}function Co(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function Bn(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function Tu(n,e){return!e||!Po(e)?{...n,choices:n.choices.map(t=>({...t,message:{...t.message,parsed:null,tool_calls:t.message.tool_calls??[]}}))}:Ys(n,e)}function Ys(n,e){const t=n.choices.map(r=>{var s;if(r.finish_reason==="length")throw new oo;if(r.finish_reason==="content_filter")throw new lo;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(a=>Ru(e,a)))??[],parsed:r.message.content&&!r.message.refusal?Ou(e,r.message.content):null}}});return{...n,choices:t}}function Ou(n,e){var t,r;return((t=n.response_format)==null?void 0:t.type)!=="json_schema"?null:((r=n.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function Ru(n,e){var r;const t=(r=n.tools)==null?void 0:r.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Bn(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function Iu(n,e){var r;if(!n)return!1;const t=(r=n.tools)==null?void 0:r.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return Bn(t)||(t==null?void 0:t.function.strict)||!1}function Po(n){var e;return Co(n.response_format)?!0:((e=n.tools)==null?void 0:e.some(t=>Bn(t)||t.type==="function"&&t.function.strict===!0))??!1}function Nu(n){for(const e of n??[]){if(e.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new D(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ue=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},re,bs,yr,ws,xs,ks,To,Ss;const Wa=10;class Oo extends Eo{constructor(){super(...arguments),re.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(r=e.choices[0])==null?void 0:r.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(ko(e)||So(e))&&e.content)this._emit("functionCallResult",e.content);else if(Vt(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Vt(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new D("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ue(this,re,"m",bs).call(this)}async finalMessage(){return await this.done(),ue(this,re,"m",yr).call(this)}async finalFunctionCall(){return await this.done(),ue(this,re,"m",ws).call(this)}async finalFunctionCallResult(){return await this.done(),ue(this,re,"m",xs).call(this)}async totalUsage(){return await this.done(),ue(this,re,"m",ks).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=ue(this,re,"m",yr).call(this);t&&this._emit("finalMessage",t);const r=ue(this,re,"m",bs).call(this);r&&this._emit("finalContent",r);const s=ue(this,re,"m",ws).call(this);s&&this._emit("finalFunctionCall",s);const a=ue(this,re,"m",xs).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",ue(this,re,"m",ks).call(this))}async _createChatCompletion(e,t,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ue(this,re,"m",To).call(this,t);const a=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ys(a,t))}async _runChatCompletion(e,t,r){for(const s of t.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,t,r)}async _runFunctions(e,t,r){var f;const s="function",{function_call:a="auto",stream:i,...o}=t,c=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:l=Wa}=r||{},u={};for(const h of t.functions)u[h.name||h.function.name]=h;const d=t.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of t.messages)this._addMessage(h,!1);for(let h=0;h<l;++h){const _=(f=(await this._createChatCompletion(e,{...o,function_call:a,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!_)throw new D("missing message in ChatCompletion response");if(!_.function_call)return;const{name:y,arguments:T}=_.function_call,v=u[y];if(v){if(c&&c!==y){const C=`Invalid function_call: ${JSON.stringify(y)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,name:y,content:C});continue}}else{const C=`Invalid function_call: ${JSON.stringify(y)}. Available options are: ${d.map(O=>JSON.stringify(O.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:y,content:C});continue}let E;try{E=za(v)?await v.parse(T):T}catch(C){this._addMessage({role:s,name:y,content:C instanceof Error?C.message:String(C)});continue}const A=await v.function(E,this),I=ue(this,re,"m",Ss).call(this,A);if(this._addMessage({role:s,name:y,content:I}),c)return}}async _runTools(e,t,r){var h,m,_;const s="tool",{tool_choice:a="auto",stream:i,...o}=t,c=typeof a!="string"&&((h=a==null?void 0:a.function)==null?void 0:h.name),{maxChatCompletions:l=Wa}=r||{},u=t.tools.map(y=>{if(Bn(y)){if(!y.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),d={};for(const y of u)y.type==="function"&&(d[y.function.name||y.function.function.name]=y.function);const f="tools"in t?u.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of t.messages)this._addMessage(y,!1);for(let y=0;y<l;++y){const v=(m=(await this._createChatCompletion(e,{...o,tool_choice:a,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!v)throw new D("missing message in ChatCompletion response");if(!((_=v.tool_calls)!=null&&_.length))return;for(const E of v.tool_calls){if(E.type!=="function")continue;const A=E.id,{name:I,arguments:C}=E.function,O=d[I];if(O){if(c&&c!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:A,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(d).map(j=>JSON.stringify(j)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:A,content:q});continue}let $;try{$=za(O)?await O.parse(C):C}catch(q){const j=q instanceof Error?q.message:String(q);this._addMessage({role:s,tool_call_id:A,content:j});continue}const B=await O.function($,this),V=ue(this,re,"m",Ss).call(this,B);if(this._addMessage({role:s,tool_call_id:A,content:V}),c)return}}}}re=new WeakSet,bs=function(){return ue(this,re,"m",yr).call(this).content??null},yr=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Vt(t)){const{function_call:r,...s}=t,a={...s,content:t.content??null,refusal:t.refusal??null};return r&&(a.function_call=r),a}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},ws=function(){var e,t;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Vt(s)&&(s!=null&&s.function_call))return s.function_call;if(Vt(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(t=s.tool_calls.at(-1))==null?void 0:t.function}},xs=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(ko(t)&&t.content!=null||So(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===t.tool_call_id))}))return t.content}},ks=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},To=function(e){if(e.n!=null&&e.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ss=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class bn extends Oo{static runFunctions(e,t,r){const s=new bn,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,t,a)),s}static runTools(e,t,r){const s=new bn,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,t,a)),s}_addMessage(e,t=!0){super._addMessage(e,t),Vt(e)&&e.content&&this._emit("content",e.content)}}const Ro=1,Io=2,No=4,$o=8,Mo=16,jo=32,Do=64,Zo=128,Fo=256,Lo=Zo|Fo,Bo=Mo|jo|Lo|Do,Uo=Ro|Io|Bo,Vo=No|$o,$u=Uo|Vo,ee={STR:Ro,NUM:Io,ARR:No,OBJ:$o,NULL:Mo,BOOL:jo,NAN:Do,INFINITY:Zo,MINUS_INFINITY:Fo,INF:Lo,SPECIAL:Bo,ATOM:Uo,COLLECTION:Vo,ALL:$u};class Mu extends Error{}class ju extends Error{}function Du(n,e=ee.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return Zu(n.trim(),e)}const Zu=(n,e)=>{const t=n.length;let r=0;const s=f=>{throw new Mu(`${f} at position ${r}`)},a=f=>{throw new ju(`${f} at position ${r}`)},i=()=>(d(),r>=t&&s("Unexpected end of input"),n[r]==='"'?o():n[r]==="{"?c():n[r]==="["?l():n.substring(r,r+4)==="null"||ee.NULL&e&&t-r<4&&"null".startsWith(n.substring(r))?(r+=4,null):n.substring(r,r+4)==="true"||ee.BOOL&e&&t-r<4&&"true".startsWith(n.substring(r))?(r+=4,!0):n.substring(r,r+5)==="false"||ee.BOOL&e&&t-r<5&&"false".startsWith(n.substring(r))?(r+=5,!1):n.substring(r,r+8)==="Infinity"||ee.INFINITY&e&&t-r<8&&"Infinity".startsWith(n.substring(r))?(r+=8,1/0):n.substring(r,r+9)==="-Infinity"||ee.MINUS_INFINITY&e&&1<t-r&&t-r<9&&"-Infinity".startsWith(n.substring(r))?(r+=9,-1/0):n.substring(r,r+3)==="NaN"||ee.NAN&e&&t-r<3&&"NaN".startsWith(n.substring(r))?(r+=3,NaN):u()),o=()=>{const f=r;let h=!1;for(r++;r<t&&(n[r]!=='"'||h&&n[r-1]==="\\");)h=n[r]==="\\"?!h:!1,r++;if(n.charAt(r)=='"')try{return JSON.parse(n.substring(f,++r-Number(h)))}catch(m){a(String(m))}else if(ee.STR&e)try{return JSON.parse(n.substring(f,r-Number(h))+'"')}catch{return JSON.parse(n.substring(f,n.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{r++,d();const f={};try{for(;n[r]!=="}";){if(d(),r>=t&&ee.OBJ&e)return f;const h=o();d(),r++;try{const m=i();Object.defineProperty(f,h,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(ee.OBJ&e)return f;throw m}d(),n[r]===","&&r++}}catch{if(ee.OBJ&e)return f;s("Expected '}' at end of object")}return r++,f},l=()=>{r++;const f=[];try{for(;n[r]!=="]";)f.push(i()),d(),n[r]===","&&r++}catch{if(ee.ARR&e)return f;s("Expected ']' at end of array")}return r++,f},u=()=>{if(r===0){n==="-"&&ee.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(n)}catch(h){if(ee.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}a(String(h))}}const f=r;for(n[r]==="-"&&r++;n[r]&&!",]}".includes(n[r]);)r++;r==t&&!(ee.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(n.substring(f,r))}catch{n.substring(f,r)==="-"&&ee.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(n.substring(f,n.lastIndexOf("e")))}catch(m){a(String(m))}}},d=()=>{for(;r<t&&` 
\r	`.includes(n[r]);)r++};return i()},Ja=n=>Du(n,ee.ALL^ee.NUM);var Et=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},J=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},G,He,Ct,tt,Gr,Gn,Qr,es,ts,Qn,ns,Ha;class wn extends Oo{constructor(e){super(),G.add(this),He.set(this,void 0),Ct.set(this,void 0),tt.set(this,void 0),Et(this,He,e,"f"),Et(this,Ct,[],"f")}get currentChatCompletionSnapshot(){return J(this,tt,"f")}static fromReadableStream(e){const t=new wn(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const s=new wn(t);return s._run(()=>s._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,t,r){var i;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),J(this,G,"m",Gr).call(this);const a=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of a)J(this,G,"m",Qr).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Ce;return this._addChatCompletion(J(this,G,"m",Qn).call(this))}async _fromReadableStream(e,t){var i;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),J(this,G,"m",Gr).call(this),this._connected();const s=Le.fromReadableStream(e,this.controller);let a;for await(const o of s)a&&a!==o.id&&this._addChatCompletion(J(this,G,"m",Qn).call(this)),J(this,G,"m",Qr).call(this,o),a=o.id;if((i=s.controller.signal)!=null&&i.aborted)throw new Ce;return this._addChatCompletion(J(this,G,"m",Qn).call(this))}[(He=new WeakMap,Ct=new WeakMap,tt=new WeakMap,G=new WeakSet,Gr=function(){this.ended||Et(this,tt,void 0,"f")},Gn=function(t){let r=J(this,Ct,"f")[t.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},J(this,Ct,"f")[t.index]=r,r)},Qr=function(t){var s,a,i,o,c,l,u,d,f,h,m,_,y,T,v;if(this.ended)return;const r=J(this,G,"m",Ha).call(this,t);this._emit("chunk",t,r);for(const E of t.choices){const A=r.choices[E.index];E.delta.content!=null&&((s=A.message)==null?void 0:s.role)==="assistant"&&((a=A.message)!=null&&a.content)&&(this._emit("content",E.delta.content,A.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:A.message.content,parsed:A.message.parsed})),E.delta.refusal!=null&&((i=A.message)==null?void 0:i.role)==="assistant"&&((o=A.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:A.message.refusal}),((c=E.logprobs)==null?void 0:c.content)!=null&&((l=A.message)==null?void 0:l.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=E.logprobs)==null?void 0:u.content,snapshot:((d=A.logprobs)==null?void 0:d.content)??[]}),((f=E.logprobs)==null?void 0:f.refusal)!=null&&((h=A.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=E.logprobs)==null?void 0:m.refusal,snapshot:((_=A.logprobs)==null?void 0:_.refusal)??[]});const I=J(this,G,"m",Gn).call(this,A);A.finish_reason&&(J(this,G,"m",ts).call(this,A),I.current_tool_call_index!=null&&J(this,G,"m",es).call(this,A,I.current_tool_call_index));for(const C of E.delta.tool_calls??[])I.current_tool_call_index!==C.index&&(J(this,G,"m",ts).call(this,A),I.current_tool_call_index!=null&&J(this,G,"m",es).call(this,A,I.current_tool_call_index)),I.current_tool_call_index=C.index;for(const C of E.delta.tool_calls??[]){const O=(y=A.message.tool_calls)==null?void 0:y[C.index];O!=null&&O.type&&((O==null?void 0:O.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(T=O.function)==null?void 0:T.name,index:C.index,arguments:O.function.arguments,parsed_arguments:O.function.parsed_arguments,arguments_delta:((v=C.function)==null?void 0:v.arguments)??""}):(O==null||O.type,void 0))}}},es=function(t,r){var i,o,c;if(J(this,G,"m",Gn).call(this,t).done_tool_calls.has(r))return;const a=(i=t.message.tool_calls)==null?void 0:i[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const l=(c=(o=J(this,He,"f"))==null?void 0:o.tools)==null?void 0:c.find(u=>u.type==="function"&&u.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:Bn(l)?l.$parseRaw(a.function.arguments):l!=null&&l.function.strict?JSON.parse(a.function.arguments):null})}else a.type},ts=function(t){var s,a;const r=J(this,G,"m",Gn).call(this,t);if(t.message.content&&!r.content_done){r.content_done=!0;const i=J(this,G,"m",ns).call(this);this._emit("content.done",{content:t.message.content,parsed:i?i.$parseRaw(t.message.content):null})}t.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(s=t.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(a=t.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},Qn=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const t=J(this,tt,"f");if(!t)throw new D("request ended without sending any chunks");return Et(this,tt,void 0,"f"),Et(this,Ct,[],"f"),Fu(t,J(this,He,"f"))},ns=function(){var r;const t=(r=J(this,He,"f"))==null?void 0:r.response_format;return Co(t)?t:null},Ha=function(t){var r,s,a,i;let o=J(this,tt,"f");const{choices:c,...l}=t;o?Object.assign(o,l):o=Et(this,tt,{...l,choices:[]},"f");for(const{delta:u,finish_reason:d,index:f,logprobs:h=null,...m}of t.choices){let _=o.choices[f];if(_||(_=o.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...m}),h)if(!_.logprobs)_.logprobs=Object.assign({},h);else{const{content:C,refusal:O,...$}=h;Object.assign(_.logprobs,$),C&&((r=_.logprobs).content??(r.content=[]),_.logprobs.content.push(...C)),O&&((s=_.logprobs).refusal??(s.refusal=[]),_.logprobs.refusal.push(...O))}if(d&&(_.finish_reason=d,J(this,He,"f")&&Po(J(this,He,"f")))){if(d==="length")throw new oo;if(d==="content_filter")throw new lo}if(Object.assign(_,m),!u)continue;const{content:y,refusal:T,function_call:v,role:E,tool_calls:A,...I}=u;if(Object.assign(_.message,I),T&&(_.message.refusal=(_.message.refusal||"")+T),E&&(_.message.role=E),v&&(_.message.function_call?(v.name&&(_.message.function_call.name=v.name),v.arguments&&((a=_.message.function_call).arguments??(a.arguments=""),_.message.function_call.arguments+=v.arguments)):_.message.function_call=v),y&&(_.message.content=(_.message.content||"")+y,!_.message.refusal&&J(this,G,"m",ns).call(this)&&(_.message.parsed=Ja(_.message.content))),A){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:C,id:O,type:$,function:B,...V}of A){const q=(i=_.message.tool_calls)[C]??(i[C]={});Object.assign(q,V),O&&(q.id=O),$&&(q.type=$),B&&(q.function??(q.function={name:B.name??"",arguments:""})),B!=null&&B.name&&(q.function.name=B.name),B!=null&&B.arguments&&(q.function.arguments+=B.arguments,Iu(J(this,He,"f"),q)&&(q.function.parsed_arguments=Ja(q.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",s=>{const a=t.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>t.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Le(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Fu(n,e){const{id:t,choices:r,created:s,model:a,system_fingerprint:i,...o}=n,c={...o,id:t,choices:r.map(({message:l,finish_reason:u,index:d,logprobs:f,...h})=>{if(!u)throw new D(`missing finish_reason for choice ${d}`);const{content:m=null,function_call:_,tool_calls:y,...T}=l,v=l.role;if(!v)throw new D(`missing role for choice ${d}`);if(_){const{arguments:E,name:A}=_;if(E==null)throw new D(`missing function_call.arguments for choice ${d}`);if(!A)throw new D(`missing function_call.name for choice ${d}`);return{...h,message:{content:m,function_call:{arguments:E,name:A},role:v,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:f}}return y?{...h,index:d,finish_reason:u,logprobs:f,message:{...T,role:v,content:m,refusal:l.refusal??null,tool_calls:y.map((E,A)=>{const{function:I,type:C,id:O,...$}=E,{arguments:B,name:V,...q}=I||{};if(O==null)throw new D(`missing choices[${d}].tool_calls[${A}].id
${er(n)}`);if(C==null)throw new D(`missing choices[${d}].tool_calls[${A}].type
${er(n)}`);if(V==null)throw new D(`missing choices[${d}].tool_calls[${A}].function.name
${er(n)}`);if(B==null)throw new D(`missing choices[${d}].tool_calls[${A}].function.arguments
${er(n)}`);return{...$,id:O,type:C,function:{...q,name:V,arguments:B}}})}}:{...h,message:{...T,content:m,role:v,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:f}}),created:s,model:a,object:"chat.completion",...i?{system_fingerprint:i}:{}};return Tu(c,e)}function er(n){return JSON.stringify(n)}class qt extends wn{static fromReadableStream(e){const t=new qt(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,r){const s=new qt(null),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,t,a)),s}static runTools(e,t,r){const s=new qt(t),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,t,a)),s}}let qo=class extends W{parse(e,t){return Nu(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Ys(r,e))}runFunctions(e,t){return e.stream?qt.runFunctions(this._client,e,t):bn.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?qt.runTools(this._client,e,t):bn.runTools(this._client,e,t)}stream(e,t){return wn.createChatCompletion(this._client,e,t)}};class As extends W{constructor(){super(...arguments),this.completions=new qo(this._client)}}(function(n){n.Completions=qo})(As||(As={}));var S=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},pe=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},te,Es,Fe,ar,Ee,mt,Mt,ft,vr,ge,ir,or,gn,dn,fn,Xa,Ka,Ya,Ga,Qa,ei,ti;class Pe extends Eo{constructor(){super(...arguments),te.add(this),Es.set(this,[]),Fe.set(this,{}),ar.set(this,{}),Ee.set(this,void 0),mt.set(this,void 0),Mt.set(this,void 0),ft.set(this,void 0),vr.set(this,void 0),ge.set(this,void 0),ir.set(this,void 0),or.set(this,void 0),gn.set(this,void 0)}[(Es=new WeakMap,Fe=new WeakMap,ar=new WeakMap,Ee=new WeakMap,mt=new WeakMap,Mt=new WeakMap,ft=new WeakMap,vr=new WeakMap,ge=new WeakMap,ir=new WeakMap,or=new WeakMap,gn=new WeakMap,te=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",s=>{const a=t.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>t.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Pe;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var a;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Le.fromReadableStream(e,this.controller);for await(const i of s)S(this,te,"m",dn).call(this,i);if((a=s.controller.signal)!=null&&a.aborted)throw new Ce;return this._addRun(S(this,te,"m",fn).call(this))}toReadableStream(){return new Le(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,s,a){const i=new Pe;return i._run(()=>i._runToolAssistantStream(e,t,r,s,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,t,r,s,a){var l;const i=a==null?void 0:a.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},c=await e.submitToolOutputs(t,r,o,{...a,signal:this.controller.signal});this._connected();for await(const u of c)S(this,te,"m",dn).call(this,u);if((l=c.controller.signal)!=null&&l.aborted)throw new Ce;return this._addRun(S(this,te,"m",fn).call(this))}static createThreadAssistantStream(e,t,r){const s=new Pe;return s._run(()=>s._threadAssistantStream(e,t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,t,r,s){const a=new Pe;return a._run(()=>a._runAssistantStream(e,t,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return S(this,ir,"f")}currentRun(){return S(this,or,"f")}currentMessageSnapshot(){return S(this,Ee,"f")}currentRunStepSnapshot(){return S(this,gn,"f")}async finalRunSteps(){return await this.done(),Object.values(S(this,Fe,"f"))}async finalMessages(){return await this.done(),Object.values(S(this,ar,"f"))}async finalRun(){if(await this.done(),!S(this,mt,"f"))throw Error("Final run was not received.");return S(this,mt,"f")}async _createThreadAssistantStream(e,t,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...t,stream:!0},i=await e.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const c of i)S(this,te,"m",dn).call(this,c);if((o=i.controller.signal)!=null&&o.aborted)throw new Ce;return this._addRun(S(this,te,"m",fn).call(this))}async _createAssistantStream(e,t,r,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},o=await e.create(t,i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)S(this,te,"m",dn).call(this,l);if((c=o.controller.signal)!=null&&c.aborted)throw new Ce;return this._addRun(S(this,te,"m",fn).call(this))}static accumulateDelta(e,t){for(const[r,s]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let a=e[r];if(a==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(Yr(a)&&Yr(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(i=>typeof i=="string"||typeof i=="number")){a.push(...s);continue}for(const i of s){if(!Yr(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const o=i.index;if(o==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const c=a[o];c==null?a.push(i):a[o]=this.accumulateDelta(c,i)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${a}`);e[r]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,s){return await this._createAssistantStream(t,e,r,s)}async _runToolAssistantStream(e,t,r,s,a){return await this._createToolAssistantStream(r,e,t,s,a)}}dn=function(e){if(!this.ended)switch(pe(this,ir,e,"f"),S(this,te,"m",Ya).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":S(this,te,"m",ti).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":S(this,te,"m",Ka).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":S(this,te,"m",Xa).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},fn=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!S(this,mt,"f"))throw Error("Final run has not been received");return S(this,mt,"f")},Xa=function(e){const[t,r]=S(this,te,"m",Qa).call(this,e,S(this,Ee,"f"));pe(this,Ee,t,"f"),S(this,ar,"f")[t.id]=t;for(const s of r){const a=t.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,i=t.content[s.index];if(i&&i.type=="text")this._emit("textDelta",a,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=S(this,Mt,"f")){if(S(this,ft,"f"))switch(S(this,ft,"f").type){case"text":this._emit("textDone",S(this,ft,"f").text,S(this,Ee,"f"));break;case"image_file":this._emit("imageFileDone",S(this,ft,"f").image_file,S(this,Ee,"f"));break}pe(this,Mt,s.index,"f")}pe(this,ft,t.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(S(this,Mt,"f")!==void 0){const s=e.data.content[S(this,Mt,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,S(this,Ee,"f"));break;case"text":this._emit("textDone",s.text,S(this,Ee,"f"));break}}S(this,Ee,"f")&&this._emit("messageDone",e.data),pe(this,Ee,void 0,"f")}},Ka=function(e){const t=S(this,te,"m",Ga).call(this,e);switch(pe(this,gn,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==S(this,vr,"f")?this._emit("toolCallDelta",a,t.step_details.tool_calls[a.index]):(S(this,ge,"f")&&this._emit("toolCallDone",S(this,ge,"f")),pe(this,vr,a.index,"f"),pe(this,ge,t.step_details.tool_calls[a.index],"f"),S(this,ge,"f")&&this._emit("toolCallCreated",S(this,ge,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":pe(this,gn,void 0,"f"),e.data.step_details.type=="tool_calls"&&S(this,ge,"f")&&(this._emit("toolCallDone",S(this,ge,"f")),pe(this,ge,void 0,"f")),this._emit("runStepDone",e.data,t);break}},Ya=function(e){S(this,Es,"f").push(e),this._emit("event",e)},Ga=function(e){switch(e.event){case"thread.run.step.created":return S(this,Fe,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=S(this,Fe,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=Pe.accumulateDelta(t,r.delta);S(this,Fe,"f")[e.data.id]=s}return S(this,Fe,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":S(this,Fe,"f")[e.data.id]=e.data;break}if(S(this,Fe,"f")[e.data.id])return S(this,Fe,"f")[e.data.id];throw new Error("No snapshot available")},Qa=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in t.content){let i=t.content[a.index];t.content[a.index]=S(this,te,"m",ei).call(this,a,i)}else t.content[a.index]=a,r.push(a);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ei=function(e,t){return Pe.accumulateDelta(t,e)},ti=function(e){switch(pe(this,or,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":pe(this,mt,e.data,"f"),S(this,ge,"f")&&(this._emit("toolCallDone",S(this,ge,"f")),pe(this,ge,void 0,"f"));break}};class Gs extends W{create(e,t,r){return this._client.post(`/threads/${e}/messages`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,s){return this._client.post(`/threads/${e}/messages/${t}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,t={},r){return fe(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,Qs,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t,r){return this._client.delete(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Qs extends Me{}Gs.MessagesPage=Qs;class ea extends W{retrieve(e,t,r,s={},a){return fe(s)?this.retrieve(e,t,r,{},s):this._client.get(`/threads/${e}/runs/${t}/steps/${r}`,{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,t,r={},s){return fe(r)?this.list(e,t,{},r):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,ta,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class ta extends Me{}ea.RunStepsPage=ta;class Un extends W{constructor(){super(...arguments),this.steps=new ea(this._client)}create(e,t,r){const{include:s,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}retrieve(e,t,r){return this._client.get(`/threads/${e}/runs/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,s){return this._client.post(`/threads/${e}/runs/${t}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,t={},r){return fe(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,na,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,t,r){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const s=await this.create(e,t,r);return await this.poll(e,s.id,r)}createAndStream(e,t,r){return Pe.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:i}=await this.retrieve(e,t,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const c=i.headers.get("openai-poll-after-ms");if(c){const l=parseInt(c);isNaN(l)||(o=l)}}await Fn(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,r){return Pe.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r,s){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,t,r,s){const a=await this.submitToolOutputs(e,t,r,s);return await this.poll(e,a.id,s)}submitToolOutputsStream(e,t,r,s){return Pe.createToolAssistantStream(e,t,this._client.beta.threads.runs,r,s)}}class na extends Me{}Un.RunsPage=na;Un.Steps=ea;Un.RunStepsPage=ta;class nn extends W{constructor(){super(...arguments),this.runs=new Un(this._client),this.messages=new Gs(this._client)}create(e={},t){return fe(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/threads/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const r=await this.createAndRun(e,t);return await this.runs.poll(r.thread_id,r.id,t)}createAndRunStream(e,t){return Pe.createThreadAssistantStream(e,this._client.beta.threads,t)}}nn.Runs=Un;nn.RunsPage=na;nn.Messages=Gs;nn.MessagesPage=Qs;const Lu=async n=>{const e=await Promise.allSettled(n),t=e.filter(s=>s.status==="rejected");if(t.length){for(const s of t)console.error(s.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let ra=class extends W{create(e,t,r){return this._client.post(`/vector_stores/${e}/files`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,t={},r){return fe(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,Lr,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t,r){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const s=await this.create(e,t,r);return await this.poll(e,s.id,r)}async poll(e,t,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const a=await this.retrieve(e,t,{...r,headers:s}).withResponse(),i=a.data;switch(i.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const c=a.response.headers.get("openai-poll-after-ms");if(c){const l=parseInt(c);isNaN(l)||(o=l)}}await Fn(o);break;case"failed":case"completed":return i}}}async upload(e,t,r){const s=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,t,r){const s=await this.upload(e,t,r);return await this.poll(e,s.id,r)}};class Lr extends Me{}ra.VectorStoreFilesPage=Lr;class zo extends W{create(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const s=await this.create(e,t);return await this.poll(e,s.id,r)}listFiles(e,t,r={},s){return fe(r)?this.listFiles(e,t,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,Lr,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,t,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:i}=await this.retrieve(e,t,{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const c=i.headers.get("openai-poll-after-ms");if(c){const l=parseInt(c);isNaN(l)||(o=l)}}await Fn(o);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},s){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(s==null?void 0:s.maxConcurrency)??5,i=Math.min(a,t.length),o=this._client,c=t.values(),l=[...r];async function u(f){for(let h of f){const m=await o.files.create({file:h,purpose:"assistants"},s);l.push(m.id)}}const d=Array(i).fill(c).map(u);return await Lu(d),await this.createAndPoll(e,{file_ids:l})}}class rn extends W{constructor(){super(...arguments),this.files=new ra(this._client),this.fileBatches=new zo(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/vector_stores/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},t){return fe(e)?this.list({},e):this._client.getAPIList("/vector_stores",sa,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class sa extends Me{}rn.VectorStoresPage=sa;rn.Files=ra;rn.VectorStoreFilesPage=Lr;rn.FileBatches=zo;class xt extends W{constructor(){super(...arguments),this.vectorStores=new rn(this._client),this.chat=new As(this._client),this.assistants=new Xs(this._client),this.threads=new nn(this._client)}}xt.VectorStores=rn;xt.VectorStoresPage=sa;xt.Assistants=Xs;xt.AssistantsPage=Ks;xt.Threads=nn;class Wo extends W{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class Jo extends W{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class aa extends W{create(e,t){return this._client.post("/files",Jt({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return fe(e)?this.list({},e):this._client.getAPIList("/files",ia,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let i=await this.retrieve(e);for(;!i.status||!s.has(i.status);)if(await Fn(t),i=await this.retrieve(e),Date.now()-a>r)throw new zs({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return i}}class ia extends Me{}aa.FileObjectsPage=ia;class oa extends W{list(e,t={},r){return fe(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,la,{query:t,...r})}}class la extends Me{}oa.FineTuningJobCheckpointsPage=la;class sn extends W{constructor(){super(...arguments),this.checkpoints=new oa(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return fe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",ca,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return fe(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,ua,{query:t,...r})}}class ca extends Me{}class ua extends Me{}sn.FineTuningJobsPage=ca;sn.FineTuningJobEventsPage=ua;sn.Checkpoints=oa;sn.FineTuningJobCheckpointsPage=la;class Vn extends W{constructor(){super(...arguments),this.jobs=new sn(this._client)}}Vn.Jobs=sn;Vn.FineTuningJobsPage=ca;Vn.FineTuningJobEventsPage=ua;class Ho extends W{createVariation(e,t){return this._client.post("/images/variations",Jt({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Jt({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class da extends W{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",fa,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class fa extends Cu{}da.ModelsPage=fa;class Xo extends W{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class Ko extends W{create(e,t,r){return this._client.post(`/uploads/${e}/parts`,Jt({body:t,...r}))}}class ha extends W{constructor(){super(...arguments),this.parts=new Ko(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(`/uploads/${e}/complete`,{body:t,...r})}}ha.Parts=Ko;var Yo;class L extends mu{constructor({baseURL:e=Yn("OPENAI_BASE_URL"),apiKey:t=Yn("OPENAI_API_KEY"),organization:r=Yn("OPENAI_ORG_ID")??null,project:s=Yn("OPENAI_PROJECT_ID")??null,...a}={}){if(t===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:t,organization:r,project:s,...a,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&Au())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new Wo(this),this.chat=new Ws(this),this.embeddings=new Jo(this),this.files=new aa(this),this.images=new Ho(this),this.audio=new Ln(this),this.moderations=new Xo(this),this.models=new da(this),this.fineTuning=new Vn(this),this.beta=new xt(this),this.batches=new Js(this),this.uploads=new ha(this),this._options=i,this.apiKey=t,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Yc(e,{arrayFormat:"brackets"})}}Yo=L;L.OpenAI=Yo;L.DEFAULT_TIMEOUT=6e5;L.OpenAIError=D;L.APIError=ne;L.APIConnectionError=Dr;L.APIConnectionTimeoutError=zs;L.APIUserAbortError=Ce;L.NotFoundError=no;L.ConflictError=ro;L.RateLimitError=ao;L.BadRequestError=Qi;L.AuthenticationError=eo;L.InternalServerError=io;L.PermissionDeniedError=to;L.UnprocessableEntityError=so;L.toFile=ho;L.fileFromPath=Yi;L.Completions=Wo;L.Chat=Ws;L.Embeddings=Jo;L.Files=aa;L.FileObjectsPage=ia;L.Images=Ho;L.Audio=Ln;L.Moderations=Xo;L.Models=da;L.ModelsPage=fa;L.FineTuning=Vn;L.Beta=xt;L.Batches=Js;L.BatchesPage=Hs;L.Uploads=ha;const Bu=Symbol("Let zodToJsonSchema decide on which parser to use"),ni={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Uu=n=>typeof n=="string"?{...ni,basePath:["#"],definitions:{},name:n}:{...ni,basePath:["#"],definitions:{},...n},Cs=n=>"_def"in n?n._def:n;function Vu(n){if(!n)return!0;for(const e in n)return!1;return!0}const qu=n=>{const e=Uu(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,s])=>[Cs(s),{def:Cs(s),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Go(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function z(n,e,t,r,s){n[e]=t,Go(n,e,r,s)}var Z;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return n.objectValues(i)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},n.find=(s,a)=>{for(const i of s)if(a(i))return i},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Z||(Z={}));var Ps;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Ps||(Ps={}));const w=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ye=n=>{switch(typeof n){case"undefined":return w.undefined;case"string":return w.string;case"number":return isNaN(n)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":return Array.isArray(n)?w.array:n===null?w.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?w.promise:typeof Map<"u"&&n instanceof Map?w.map:typeof Set<"u"&&n instanceof Set?w.set:typeof Date<"u"&&n instanceof Date?w.date:w.object;default:return w.unknown}},p=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zu=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class be extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let o=r,c=0;for(;c<i.path.length;){const l=i.path[c];c===i.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(t(i))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return s(this),r}static assert(e){if(!(e instanceof be))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}be.create=n=>new be(n);const Ht=(n,e)=>{let t;switch(n.code){case p.invalid_type:n.received===w.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case p.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Z.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:t=`Unrecognized key(s) in object: ${Z.joinValues(n.keys,", ")}`;break;case p.invalid_union:t="Invalid input";break;case p.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Z.joinValues(n.options)}`;break;case p.invalid_enum_value:t=`Invalid enum value. Expected ${Z.joinValues(n.options)}, received '${n.received}'`;break;case p.invalid_arguments:t="Invalid function arguments";break;case p.invalid_return_type:t="Invalid function return type";break;case p.invalid_date:t="Invalid date";break;case p.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Z.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case p.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case p.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case p.custom:t="Invalid input";break;case p.invalid_intersection_types:t="Intersection results could not be merged";break;case p.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case p.not_finite:t="Number must be finite";break;default:t=e.defaultError,Z.assertNever(n)}return{message:t}};let Qo=Ht;function Wu(n){Qo=n}function br(){return Qo}const wr=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)o=l(i,{data:e,defaultError:o}).message;return{...s,path:a,message:o}},Ju=[];function b(n,e){const t=br(),r=wr({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Ht?void 0:Ht].filter(s=>!!s)});n.common.issues.push(r)}class ae{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return P;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return ae.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return P;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const P=Object.freeze({status:"aborted"}),jt=n=>({status:"dirty",value:n}),oe=n=>({status:"valid",value:n}),Ts=n=>n.status==="aborted",Os=n=>n.status==="dirty",yt=n=>n.status==="valid",xn=n=>typeof Promise<"u"&&n instanceof Promise;function xr(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function el(n,e,t,r,s){if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var k;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));var hn,mn;class ze{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ri=(n,e)=>{if(yt(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new be(n.common.issues);return this._error=t,this._error}}};function R(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var c,l;const{message:u}=n;return i.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??t)!==null&&l!==void 0?l:o.defaultError}},description:s}}class N{get description(){return this._def.description}_getType(e){return Ye(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ae,ctx:{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(xn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},a=this._parseSync({data:e,path:s.path,parent:s});return ri(s,a)}"~validate"(e){var t,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return yt(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(t=a==null?void 0:a.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>yt(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(xn(s)?s:Promise.resolve(s));return ri(r,a)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const i=e(s),o=()=>a.addIssue({code:p.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Ie({schema:this,typeName:g.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ve.create(this,this._def)}nullable(){return ct.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oe.create(this)}promise(){return Kt.create(this,this._def)}or(e){return En.create([this,e],this._def)}and(e){return Cn.create(this,e,this._def)}transform(e){return new Ie({...R(this._def),schema:this,typeName:g.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new In({...R(this._def),innerType:this,defaultValue:t,typeName:g.ZodDefault})}brand(){return new ma({typeName:g.ZodBranded,type:this,...R(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Nn({...R(this._def),innerType:this,catchValue:t,typeName:g.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return qn.create(this,e)}readonly(){return $n.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hu=/^c[^\s-]{8,}$/i,Xu=/^[0-9a-z]+$/,Ku=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yu=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gu=/^[a-z0-9_-]{21}$/i,Qu=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ed=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,td=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rs;const rd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ad=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,id=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,od=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ld=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cd=new RegExp(`^${tl}$`);function nl(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ud(n){return new RegExp(`^${nl(n)}$`)}function rl(n){let e=`${tl}T${nl(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function dd(n,e){return!!((e==="v4"||!e)&&rd.test(n)||(e==="v6"||!e)&&ad.test(n))}function fd(n,e){if(!Qu.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function hd(n,e){return!!((e==="v4"||!e)&&sd.test(n)||(e==="v6"||!e)&&id.test(n))}class Te extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==w.string){const a=this._getOrReturnCtx(e);return b(a,{code:p.invalid_type,expected:w.string,received:a.parsedType}),P}const r=new ae;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?b(s,{code:p.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&b(s,{code:p.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")td.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"email",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")rs||(rs=new RegExp(nd,"u")),rs.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"emoji",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Yu.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"uuid",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Gu.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"nanoid",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Hu.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Xu.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid2",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Ku.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ulid",code:p.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),b(s,{validation:"url",code:p.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"regex",code:p.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?rl(a).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?cd.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?ud(a).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?ed.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"duration",code:p.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?dd(e.data,a.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ip",code:p.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?fd(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"jwt",code:p.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?hd(e.data,a.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cidr",code:p.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?od.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"base64",code:p.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?ld.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"base64url",code:p.invalid_string,message:a.message}),r.dirty()):Z.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:p.invalid_string,...k.errToObj(r)})}_addCheck(e){return new Te({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...k.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...k.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...k.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...k.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...k.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...k.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...k.errToObj(t)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new Te({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Te({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Te({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Te.create=n=>{var e;return new Te({checks:[],typeName:g.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...R(n)})};function md(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=parseInt(n.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class it extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==w.number){const a=this._getOrReturnCtx(e);return b(a,{code:p.invalid_type,expected:w.number,received:a.parsedType}),P}let r;const s=new ae;for(const a of this._def.checks)a.kind==="int"?Z.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:p.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?md(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:p.not_finite,message:a.message}),s.dirty()):Z.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,r,s){return new it({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:k.toString(s)}]})}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}it.create=n=>new it({checks:[],typeName:g.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...R(n)});class ot extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==w.bigint)return this._getInvalidInput(e);let r;const s=new ae;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Z.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return b(t,{code:p.invalid_type,expected:w.bigint,received:t.parsedType}),P}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,r,s){return new ot({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:k.toString(s)}]})}_addCheck(e){return new ot({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ot.create=n=>{var e;return new ot({checks:[],typeName:g.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...R(n)})};class kn extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==w.boolean){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:w.boolean,received:r.parsedType}),P}return oe(e.data)}}kn.create=n=>new kn({typeName:g.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...R(n)});class vt extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==w.date){const a=this._getOrReturnCtx(e);return b(a,{code:p.invalid_type,expected:w.date,received:a.parsedType}),P}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return b(a,{code:p.invalid_date}),P}const r=new ae;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Z.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}vt.create=n=>new vt({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:g.ZodDate,...R(n)});class kr extends N{_parse(e){if(this._getType(e)!==w.symbol){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:w.symbol,received:r.parsedType}),P}return oe(e.data)}}kr.create=n=>new kr({typeName:g.ZodSymbol,...R(n)});class Sn extends N{_parse(e){if(this._getType(e)!==w.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:w.undefined,received:r.parsedType}),P}return oe(e.data)}}Sn.create=n=>new Sn({typeName:g.ZodUndefined,...R(n)});class An extends N{_parse(e){if(this._getType(e)!==w.null){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:w.null,received:r.parsedType}),P}return oe(e.data)}}An.create=n=>new An({typeName:g.ZodNull,...R(n)});class Xt extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return oe(e.data)}}Xt.create=n=>new Xt({typeName:g.ZodAny,...R(n)});class _t extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oe(e.data)}}_t.create=n=>new _t({typeName:g.ZodUnknown,...R(n)});class et extends N{_parse(e){const t=this._getOrReturnCtx(e);return b(t,{code:p.invalid_type,expected:w.never,received:t.parsedType}),P}}et.create=n=>new et({typeName:g.ZodNever,...R(n)});class Sr extends N{_parse(e){if(this._getType(e)!==w.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:w.void,received:r.parsedType}),P}return oe(e.data)}}Sr.create=n=>new Sr({typeName:g.ZodVoid,...R(n)});class Oe extends N{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==w.array)return b(t,{code:p.invalid_type,expected:w.array,received:t.parsedType}),P;if(s.exactLength!==null){const i=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(i||o)&&(b(t,{code:i?p.too_big:p.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(b(t,{code:p.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(b(t,{code:p.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>s.type._parseAsync(new ze(t,i,t.path,o)))).then(i=>ae.mergeArray(r,i));const a=[...t.data].map((i,o)=>s.type._parseSync(new ze(t,i,t.path,o)));return ae.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Oe({...this._def,minLength:{value:e,message:k.toString(t)}})}max(e,t){return new Oe({...this._def,maxLength:{value:e,message:k.toString(t)}})}length(e,t){return new Oe({...this._def,exactLength:{value:e,message:k.toString(t)}})}nonempty(e){return this.min(1,e)}}Oe.create=(n,e)=>new Oe({type:n,minLength:null,maxLength:null,exactLength:null,typeName:g.ZodArray,...R(e)});function It(n){if(n instanceof K){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Ve.create(It(r))}return new K({...n._def,shape:()=>e})}else return n instanceof Oe?new Oe({...n._def,type:It(n.element)}):n instanceof Ve?Ve.create(It(n.unwrap())):n instanceof ct?ct.create(It(n.unwrap())):n instanceof We?We.create(n.items.map(e=>It(e))):n}class K extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Z.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==w.object){const l=this._getOrReturnCtx(e);return b(l,{code:p.invalid_type,expected:w.object,received:l.parsedType}),P}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof et&&this._def.unknownKeys==="strip"))for(const l in s.data)i.includes(l)||o.push(l);const c=[];for(const l of i){const u=a[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ze(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof et){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")o.length>0&&(b(s,{code:p.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ze(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,f=await u.value;l.push({key:d,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>ae.mergeObjectSync(r,l)):ae.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new K({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,a,i,o;const c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,t,r).message)!==null&&i!==void 0?i:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=k.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new K({...this._def,unknownKeys:"strip"})}passthrough(){return new K({...this._def,unknownKeys:"passthrough"})}extend(e){return new K({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new K({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:g.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new K({...this._def,catchall:e})}pick(e){const t={};return Z.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new K({...this._def,shape:()=>t})}omit(e){const t={};return Z.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new K({...this._def,shape:()=>t})}deepPartial(){return It(this)}partial(e){const t={};return Z.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new K({...this._def,shape:()=>t})}required(e){const t={};return Z.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ve;)a=a._def.innerType;t[r]=a}}),new K({...this._def,shape:()=>t})}keyof(){return sl(Z.objectKeys(this.shape))}}K.create=(n,e)=>new K({shape:()=>n,unknownKeys:"strip",catchall:et.create(),typeName:g.ZodObject,...R(e)});K.strictCreate=(n,e)=>new K({shape:()=>n,unknownKeys:"strict",catchall:et.create(),typeName:g.ZodObject,...R(e)});K.lazycreate=(n,e)=>new K({shape:n,unknownKeys:"strip",catchall:et.create(),typeName:g.ZodObject,...R(e)});class En extends N{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new be(o.ctx.common.issues));return b(t,{code:p.invalid_union,unionErrors:i}),P}if(t.common.async)return Promise.all(r.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const l={...t,common:{...t.common,issues:[]},parent:null},u=c._parseSync({data:t.data,path:t.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new be(c));return b(t,{code:p.invalid_union,unionErrors:o}),P}}get options(){return this._def.options}}En.create=(n,e)=>new En({options:n,typeName:g.ZodUnion,...R(e)});const Ke=n=>n instanceof Tn?Ke(n.schema):n instanceof Ie?Ke(n.innerType()):n instanceof On?[n.value]:n instanceof lt?n.options:n instanceof Rn?Z.objectValues(n.enum):n instanceof In?Ke(n._def.innerType):n instanceof Sn?[void 0]:n instanceof An?[null]:n instanceof Ve?[void 0,...Ke(n.unwrap())]:n instanceof ct?[null,...Ke(n.unwrap())]:n instanceof ma||n instanceof $n?Ke(n.unwrap()):n instanceof Nn?Ke(n._def.innerType):[];class Br extends N{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==w.object)return b(t,{code:p.invalid_type,expected:w.object,received:t.parsedType}),P;const r=this.discriminator,s=t.data[r],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(b(t,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),P)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const a of t){const i=Ke(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new Br({typeName:g.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...R(r)})}}function Rs(n,e){const t=Ye(n),r=Ye(e);if(n===e)return{valid:!0,data:n};if(t===w.object&&r===w.object){const s=Z.objectKeys(e),a=Z.objectKeys(n).filter(o=>s.indexOf(o)!==-1),i={...n,...e};for(const o of a){const c=Rs(n[o],e[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(t===w.array&&r===w.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const i=n[a],o=e[a],c=Rs(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===w.date&&r===w.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Cn extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(Ts(a)||Ts(i))return P;const o=Rs(a.value,i.value);return o.valid?((Os(a)||Os(i))&&t.dirty(),{status:t.value,value:o.data}):(b(r,{code:p.invalid_intersection_types}),P)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cn.create=(n,e,t)=>new Cn({left:n,right:e,typeName:g.ZodIntersection,...R(t)});class We extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.array)return b(r,{code:p.invalid_type,expected:w.array,received:r.parsedType}),P;if(r.data.length<this._def.items.length)return b(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),P;!this._def.rest&&r.data.length>this._def.items.length&&(b(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ze(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>ae.mergeArray(t,i)):ae.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new We({...this._def,rest:e})}}We.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new We({items:n,typeName:g.ZodTuple,rest:null,...R(e)})};class Pn extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.object)return b(r,{code:p.invalid_type,expected:w.object,received:r.parsedType}),P;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new ze(r,o,r.path,o)),value:i._parse(new ze(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?ae.mergeObjectAsync(t,s):ae.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof N?new Pn({keyType:e,valueType:t,typeName:g.ZodRecord,...R(r)}):new Pn({keyType:Te.create(),valueType:e,typeName:g.ZodRecord,...R(t)})}}class Ar extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.map)return b(r,{code:p.invalid_type,expected:w.map,received:r.parsedType}),P;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,c],l)=>({key:s._parse(new ze(r,o,r.path,[l,"key"])),value:a._parse(new ze(r,c,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return P;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(l.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const c of i){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return P;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(l.value,u.value)}return{status:t.value,value:o}}}}Ar.create=(n,e,t)=>new Ar({valueType:e,keyType:n,typeName:g.ZodMap,...R(t)});class bt extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.set)return b(r,{code:p.invalid_type,expected:w.set,received:r.parsedType}),P;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(b(r,{code:p.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(b(r,{code:p.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function i(c){const l=new Set;for(const u of c){if(u.status==="aborted")return P;u.status==="dirty"&&t.dirty(),l.add(u.value)}return{status:t.value,value:l}}const o=[...r.data.values()].map((c,l)=>a._parse(new ze(r,c,r.path,l)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(e,t){return new bt({...this._def,minSize:{value:e,message:k.toString(t)}})}max(e,t){return new bt({...this._def,maxSize:{value:e,message:k.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}bt.create=(n,e)=>new bt({valueType:n,minSize:null,maxSize:null,typeName:g.ZodSet,...R(e)});class zt extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==w.function)return b(t,{code:p.invalid_type,expected:w.function,received:t.parsedType}),P;function r(o,c){return wr({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,br(),Ht].filter(l=>!!l),issueData:{code:p.invalid_arguments,argumentsError:c}})}function s(o,c){return wr({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,br(),Ht].filter(l=>!!l),issueData:{code:p.invalid_return_type,returnTypeError:c}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Kt){const o=this;return oe(async function(...c){const l=new be([]),u=await o._def.args.parseAsync(c,a).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(i,this,u);return await o._def.returns._def.type.parseAsync(d,a).catch(h=>{throw l.addIssue(s(d,h)),l})})}else{const o=this;return oe(function(...c){const l=o._def.args.safeParse(c,a);if(!l.success)throw new be([r(c,l.error)]);const u=Reflect.apply(i,this,l.data),d=o._def.returns.safeParse(u,a);if(!d.success)throw new be([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zt({...this._def,args:We.create(e).rest(_t.create())})}returns(e){return new zt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new zt({args:e||We.create([]).rest(_t.create()),returns:t||_t.create(),typeName:g.ZodFunction,...R(r)})}}class Tn extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Tn.create=(n,e)=>new Tn({getter:n,typeName:g.ZodLazy,...R(e)});class On extends N{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return b(t,{received:t.data,code:p.invalid_literal,expected:this._def.value}),P}return{status:"valid",value:e.data}}get value(){return this._def.value}}On.create=(n,e)=>new On({value:n,typeName:g.ZodLiteral,...R(e)});function sl(n,e){return new lt({values:n,typeName:g.ZodEnum,...R(e)})}class lt extends N{constructor(){super(...arguments),hn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return b(t,{expected:Z.joinValues(r),received:t.parsedType,code:p.invalid_type}),P}if(xr(this,hn)||el(this,hn,new Set(this._def.values)),!xr(this,hn).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return b(t,{received:t.data,code:p.invalid_enum_value,options:r}),P}return oe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return lt.create(e,{...this._def,...t})}exclude(e,t=this._def){return lt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}hn=new WeakMap;lt.create=sl;class Rn extends N{constructor(){super(...arguments),mn.set(this,void 0)}_parse(e){const t=Z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==w.string&&r.parsedType!==w.number){const s=Z.objectValues(t);return b(r,{expected:Z.joinValues(s),received:r.parsedType,code:p.invalid_type}),P}if(xr(this,mn)||el(this,mn,new Set(Z.getValidEnumValues(this._def.values))),!xr(this,mn).has(e.data)){const s=Z.objectValues(t);return b(r,{received:r.data,code:p.invalid_enum_value,options:s}),P}return oe(e.data)}get enum(){return this._def.values}}mn=new WeakMap;Rn.create=(n,e)=>new Rn({values:n,typeName:g.ZodNativeEnum,...R(e)});class Kt extends N{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==w.promise&&t.common.async===!1)return b(t,{code:p.invalid_type,expected:w.promise,received:t.parsedType}),P;const r=t.parsedType===w.promise?t.data:Promise.resolve(t.data);return oe(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Kt.create=(n,e)=>new Kt({type:n,typeName:g.ZodPromise,...R(e)});class Ie extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===g.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{b(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return P;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?P:c.status==="dirty"||t.value==="dirty"?jt(c.value):c});{if(t.value==="aborted")return P;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?P:o.status==="dirty"||t.value==="dirty"?jt(o.value):o}}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?P:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?P:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yt(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>yt(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);Z.assertNever(s)}}Ie.create=(n,e,t)=>new Ie({schema:n,typeName:g.ZodEffects,effect:e,...R(t)});Ie.createWithPreprocess=(n,e,t)=>new Ie({schema:e,effect:{type:"preprocess",transform:n},typeName:g.ZodEffects,...R(t)});class Ve extends N{_parse(e){return this._getType(e)===w.undefined?oe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ve.create=(n,e)=>new Ve({innerType:n,typeName:g.ZodOptional,...R(e)});class ct extends N{_parse(e){return this._getType(e)===w.null?oe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ct.create=(n,e)=>new ct({innerType:n,typeName:g.ZodNullable,...R(e)});class In extends N{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===w.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}In.create=(n,e)=>new In({innerType:n,typeName:g.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...R(e)});class Nn extends N{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return xn(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new be(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new be(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Nn.create=(n,e)=>new Nn({innerType:n,typeName:g.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...R(e)});class Er extends N{_parse(e){if(this._getType(e)!==w.nan){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:w.nan,received:r.parsedType}),P}return{status:"valid",value:e.data}}}Er.create=n=>new Er({typeName:g.ZodNaN,...R(n)});const pd=Symbol("zod_brand");class ma extends N{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class qn extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?P:a.status==="dirty"?(t.dirty(),jt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?P:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new qn({in:e,out:t,typeName:g.ZodPipeline})}}class $n extends N{_parse(e){const t=this._def.innerType._parse(e),r=s=>(yt(s)&&(s.value=Object.freeze(s.value)),s);return xn(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}$n.create=(n,e)=>new $n({innerType:n,typeName:g.ZodReadonly,...R(e)});function al(n,e={},t){return n?Xt.create().superRefine((r,s)=>{var a,i;if(!n(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(i=(a=o.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0,l=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...l,fatal:c})}}):Xt.create()}const _d={object:K.lazycreate};var g;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(g||(g={}));const gd=(n,e={message:`Input not instance of ${n.name}`})=>al(t=>t instanceof n,e),il=Te.create,ol=it.create,yd=Er.create,vd=ot.create,ll=kn.create,bd=vt.create,wd=kr.create,xd=Sn.create,kd=An.create,Sd=Xt.create,Ad=_t.create,Ed=et.create,Cd=Sr.create,Pd=Oe.create,Td=K.create,Od=K.strictCreate,Rd=En.create,Id=Br.create,Nd=Cn.create,$d=We.create,Md=Pn.create,jd=Ar.create,Dd=bt.create,Zd=zt.create,Fd=Tn.create,Ld=On.create,Bd=lt.create,Ud=Rn.create,Vd=Kt.create,si=Ie.create,qd=Ve.create,zd=ct.create,Wd=Ie.createWithPreprocess,Jd=qn.create,Hd=()=>il().optional(),Xd=()=>ol().optional(),Kd=()=>ll().optional(),Yd={string:n=>Te.create({...n,coerce:!0}),number:n=>it.create({...n,coerce:!0}),boolean:n=>kn.create({...n,coerce:!0}),bigint:n=>ot.create({...n,coerce:!0}),date:n=>vt.create({...n,coerce:!0})},Gd=P;var ss=Object.freeze({__proto__:null,defaultErrorMap:Ht,setErrorMap:Wu,getErrorMap:br,makeIssue:wr,EMPTY_PATH:Ju,addIssueToContext:b,ParseStatus:ae,INVALID:P,DIRTY:jt,OK:oe,isAborted:Ts,isDirty:Os,isValid:yt,isAsync:xn,get util(){return Z},get objectUtil(){return Ps},ZodParsedType:w,getParsedType:Ye,ZodType:N,datetimeRegex:rl,ZodString:Te,ZodNumber:it,ZodBigInt:ot,ZodBoolean:kn,ZodDate:vt,ZodSymbol:kr,ZodUndefined:Sn,ZodNull:An,ZodAny:Xt,ZodUnknown:_t,ZodNever:et,ZodVoid:Sr,ZodArray:Oe,ZodObject:K,ZodUnion:En,ZodDiscriminatedUnion:Br,ZodIntersection:Cn,ZodTuple:We,ZodRecord:Pn,ZodMap:Ar,ZodSet:bt,ZodFunction:zt,ZodLazy:Tn,ZodLiteral:On,ZodEnum:lt,ZodNativeEnum:Rn,ZodPromise:Kt,ZodEffects:Ie,ZodTransformer:Ie,ZodOptional:Ve,ZodNullable:ct,ZodDefault:In,ZodCatch:Nn,ZodNaN:Er,BRAND:pd,ZodBranded:ma,ZodPipeline:qn,ZodReadonly:$n,custom:al,Schema:N,ZodSchema:N,late:_d,get ZodFirstPartyTypeKind(){return g},coerce:Yd,any:Sd,array:Pd,bigint:vd,boolean:ll,date:bd,discriminatedUnion:Id,effect:si,enum:Bd,function:Zd,instanceof:gd,intersection:Nd,lazy:Fd,literal:Ld,map:jd,nan:yd,nativeEnum:Ud,never:Ed,null:kd,nullable:zd,number:ol,object:Td,oboolean:Kd,onumber:Xd,optional:qd,ostring:Hd,pipeline:Jd,preprocess:Wd,promise:Vd,record:Md,set:Dd,strictObject:Od,string:il,symbol:wd,transformer:si,tuple:$d,undefined:xd,union:Rd,unknown:Ad,void:Cd,NEVER:Gd,ZodIssueCode:p,quotelessJson:zu,ZodError:be});function Qd(){return{}}function ef(n,e){var r,s;const t={type:"array"};return((s=(r=n.type)==null?void 0:r._def)==null?void 0:s.typeName)!==g.ZodAny&&(t.items=U(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&z(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&z(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(z(t,"minItems",n.exactLength.value,n.exactLength.message,e),z(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function tf(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?z(t,"minimum",r.value,r.message,e):z(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),z(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?z(t,"maximum",r.value,r.message,e):z(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),z(t,"maximum",r.value,r.message,e));break;case"multipleOf":z(t,"multipleOf",r.value,r.message,e);break}return t}function nf(){return{type:"boolean"}}function rf(n,e){return U(n.type._def,e)}const sf=(n,e)=>U(n.innerType._def,e);function cl(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,a)=>cl(n,e,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return af(n,e)}}const af=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":z(t,"minimum",r.value,r.message,e);break;case"max":z(t,"maximum",r.value,r.message,e);break}return t};function of(n,e){return{...U(n.innerType._def,e),default:n.defaultValue()}}function lf(n,e,t){return e.effectStrategy==="input"?U(n.schema._def,e,t):{}}function cf(n){return{type:"string",enum:[...n.values]}}const uf=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function df(n,e){const t=[U(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),U(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return t.forEach(a=>{if(uf(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...c}=a;i=c}else r=void 0;s.push(i)}}),s.length?{allOf:s,...r}:void 0}function ff(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let as;const dt={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(as===void 0&&(as=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),as),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function ul(n,e){const t={type:"string"};function r(s){return e.patternStrategy==="escape"?hf(s):s}if(n.checks)for(const s of n.checks)switch(s.kind){case"min":z(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e);break;case"max":z(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":ke(t,"email",s.message,e);break;case"format:idn-email":ke(t,"idn-email",s.message,e);break;case"pattern:zod":Se(t,dt.email,s.message,e);break}break;case"url":ke(t,"uri",s.message,e);break;case"uuid":ke(t,"uuid",s.message,e);break;case"regex":Se(t,s.regex,s.message,e);break;case"cuid":Se(t,dt.cuid,s.message,e);break;case"cuid2":Se(t,dt.cuid2,s.message,e);break;case"startsWith":Se(t,RegExp(`^${r(s.value)}`),s.message,e);break;case"endsWith":Se(t,RegExp(`${r(s.value)}$`),s.message,e);break;case"datetime":ke(t,"date-time",s.message,e);break;case"date":ke(t,"date",s.message,e);break;case"time":ke(t,"time",s.message,e);break;case"duration":ke(t,"duration",s.message,e);break;case"length":z(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e),z(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"includes":{Se(t,RegExp(r(s.value)),s.message,e);break}case"ip":{s.version!=="v6"&&ke(t,"ipv4",s.message,e),s.version!=="v4"&&ke(t,"ipv6",s.message,e);break}case"emoji":Se(t,dt.emoji,s.message,e);break;case"ulid":{Se(t,dt.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{ke(t,"binary",s.message,e);break}case"contentEncoding:base64":{z(t,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{Se(t,dt.base64,s.message,e);break}}break}case"nanoid":Se(t,dt.nanoid,s.message,e)}return t}const hf=n=>Array.from(n).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),ke=(n,e,t,r)=>{var s;n.format||(s=n.anyOf)!=null&&s.some(a=>a.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):z(n,"format",e,t,r)},Se=(n,e,t,r)=>{var s;n.pattern||(s=n.allOf)!=null&&s.some(a=>a.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:ai(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):z(n,"pattern",ai(e,r),t,r)},ai=(n,e)=>{var l;const t=typeof n=="function"?n():n;if(!e.applyRegexFlags||!t.flags)return t.source;const r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source;let a="",i=!1,o=!1,c=!1;for(let u=0;u<s.length;u++){if(i){a+=s[u],i=!1;continue}if(r.i){if(o){if(s[u].match(/[a-z]/)){c?(a+=s[u],a+=`${s[u-2]}-${s[u]}`.toUpperCase(),c=!1):s[u+1]==="-"&&((l=s[u+2])!=null&&l.match(/[a-z]/))?(a+=s[u],c=!0):a+=`${s[u]}${s[u].toUpperCase()}`;continue}}else if(s[u].match(/[a-z]/)){a+=`[${s[u]}${s[u].toUpperCase()}]`;continue}}if(r.m){if(s[u]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(s[u]==="$"){a+=`($|(?=[\r
]))`;continue}}if(r.s&&s[u]==="."){a+=o?`${s[u]}\r
`:`[${s[u]}\r
]`;continue}a+=s[u],s[u]==="\\"?i=!0:o&&s[u]==="]"?o=!1:!o&&s[u]==="["&&(o=!0)}try{const u=new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return a};function dl(n,e){var r,s,a,i;if(e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===g.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((o,c)=>({...o,[c]:U(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",c]})??{}}),{}),additionalProperties:!1};const t={type:"object",additionalProperties:U(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return t;if(((s=n.keyType)==null?void 0:s._def.typeName)===g.ZodString&&((a=n.keyType._def.checks)!=null&&a.length)){const o=Object.entries(ul(n.keyType._def,e)).reduce((c,[l,u])=>l==="type"?c:{...c,[l]:u},{});return{...t,propertyNames:o}}else if(((i=n.keyType)==null?void 0:i._def.typeName)===g.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};return t}function mf(n,e){if(e.mapStrategy==="record")return dl(n,e);const t=U(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=U(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function pf(n){const e=n.values,r=Object.keys(n.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function _f(){return{not:{}}}function gf(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Cr={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function yf(n,e){if(e.target==="openApi3")return ii(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in Cr&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((s,a)=>{const i=Cr[a._def.typeName];return i&&!s.includes(i)?[...s,i]:s},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((s,a)=>{const i=typeof a._def.value;switch(i){case"string":case"number":case"boolean":return[...s,i];case"bigint":return[...s,"integer"];case"object":if(a._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===t.length){const s=r.filter((a,i,o)=>o.indexOf(a)===i);return{type:s.length>1?s:s[0],enum:t.reduce((a,i)=>a.includes(i._def.value)?a:[...a,i._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return ii(n,e)}const ii=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,s)=>U(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function vf(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:Cr[n.innerType._def.typeName],nullable:!0}:{type:[Cr[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=U(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=U(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function bf(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",Go(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?z(t,"minimum",r.value,r.message,e):z(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),z(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?z(t,"maximum",r.value,r.message,e):z(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),z(t,"maximum",r.value,r.message,e));break;case"multipleOf":z(t,"multipleOf",r.value,r.message,e);break}return t}function wf(n,e){return e.removeAdditionalStrategy==="strict"?n.catchall._def.typeName==="ZodNever"?n.unknownKeys!=="strict":U(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":U(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function xf(n,e){const t={type:"object",...Object.entries(n.shape()).reduce((r,[s,a])=>{if(a===void 0||a._def===void 0)return r;const i=U(a._def,{...e,currentPath:[...e.currentPath,"properties",s],propertyPath:[...e.currentPath,"properties",s]});return i===void 0?r:{properties:{...r.properties,[s]:i},required:a.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,s]}},{properties:{},required:[]}),additionalProperties:wf(n,e)};return t.required.length||delete t.required,t}const kf=(n,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return U(n.innerType._def,e);const t=U(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},Sf=(n,e)=>{if(e.pipeStrategy==="input")return U(n.in._def,e);if(e.pipeStrategy==="output")return U(n.out._def,e);const t=U(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=U(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(s=>s!==void 0)}};function Af(n,e){return U(n.type._def,e)}function Ef(n,e){const r={type:"array",uniqueItems:!0,items:U(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&z(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&z(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function Cf(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>U(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:U(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>U(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function Pf(){return{not:{}}}function Tf(){return{}}const Of=(n,e)=>U(n.innerType._def,e);function U(n,e,t=!1){var i;const r=e.seen.get(n);if(e.override){const o=(i=e.override)==null?void 0:i.call(e,n,e,r,t);if(o!==Bu)return o}if(r&&!t){const o=Rf(r,e);if(o!==void 0)return"$ref"in o&&e.seenRefs.add(o.$ref),o}const s={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,s);const a=Nf(n,n.typeName,e,t);return a&&$f(n,e,a),s.jsonSchema=a,a}const Rf=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"extract-to-root":const t=n.path.slice(e.basePath.length+1).join("_");return t!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[t]=n.def),{$ref:[...e.basePath,e.definitionPath,t].join("/")};case"relative":return{$ref:If(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},If=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},Nf=(n,e,t,r)=>{switch(e){case g.ZodString:return ul(n,t);case g.ZodNumber:return bf(n,t);case g.ZodObject:return xf(n,t);case g.ZodBigInt:return tf(n,t);case g.ZodBoolean:return nf();case g.ZodDate:return cl(n,t);case g.ZodUndefined:return Pf();case g.ZodNull:return gf(t);case g.ZodArray:return ef(n,t);case g.ZodUnion:case g.ZodDiscriminatedUnion:return yf(n,t);case g.ZodIntersection:return df(n,t);case g.ZodTuple:return Cf(n,t);case g.ZodRecord:return dl(n,t);case g.ZodLiteral:return ff(n,t);case g.ZodEnum:return cf(n);case g.ZodNativeEnum:return pf(n);case g.ZodNullable:return vf(n,t);case g.ZodOptional:return kf(n,t);case g.ZodMap:return mf(n,t);case g.ZodSet:return Ef(n,t);case g.ZodLazy:return U(n.getter()._def,t);case g.ZodPromise:return Af(n,t);case g.ZodNaN:case g.ZodNever:return _f();case g.ZodEffects:return lf(n,t,r);case g.ZodAny:return Qd();case g.ZodUnknown:return Tf();case g.ZodDefault:return of(n,t);case g.ZodBranded:return rf(n,t);case g.ZodReadonly:return Of(n,t);case g.ZodCatch:return sf(n,t);case g.ZodPipeline:return Sf(n,t);case g.ZodFunction:case g.ZodVoid:case g.ZodSymbol:return;default:return(s=>{})()}},$f=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),Mf=(n,e)=>{const t=qu(e),r=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=U(n._def,r===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,r]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(s.title=a);const i=(()=>{if(Vu(t.definitions))return;const c={},l=new Set;for(let u=0;u<500;u++){const d=Object.entries(t.definitions).filter(([f])=>!l.has(f));if(d.length===0)break;for(const[f,h]of d)c[f]=U(Cs(h),{...t,currentPath:[...t.basePath,t.definitionPath,f]},!0)??{},l.add(f)}return c})(),o=r===void 0?i?{...s,[t.definitionPath]:i}:s:t.nameStrategy==="duplicate-ref"?{...s,...i||t.seenRefs.size?{[t.definitionPath]:{...i,...t.seenRefs.size?{[r]:s}:void 0}}:void 0}:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,r].join("/"),[t.definitionPath]:{...i,[r]:s}};return t.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};function jf(n,e){return Mf(n,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function Df(n,e,t){return Pu({type:"json_schema",json_schema:{...t,name:e,strict:!0,schema:jf(n,{name:e})}},r=>n.parse(JSON.parse(r)))}const Pt=[];function Zf(n,e=Zt){let t=null;const r=new Set;function s(o){if(di(n,o)&&(n=o,t)){const c=!Pt.length;for(const l of r)l[1](),Pt.push(l,n);if(c){for(let l=0;l<Pt.length;l+=2)Pt[l][0](Pt[l+1]);Pt.length=0}}}function a(o){s(o(n))}function i(o,c=Zt){const l=[o,c];return r.add(l),r.size===1&&(t=e(s,a)||Zt),o(n),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:s,update:a,subscribe:i}}const Ff=`
<html>
<head>
  <title>Welcome to LLM ðŸ’˜ HTML Project!</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      background-color: #e6f7ff;
      text-align: center;
      color: #003366;
    }
    h1 {
      color: #ff69b4;
      font-size: 42px;
      text-shadow: 2px 2px #f5aebb;
    }
    .blink {
      animation: blink-animation 1s steps(5, start) infinite;
      -webkit-animation: blink-animation 1s steps(5, start) infinite;
    }
    a:link {
      color: #0066ff;
    }
    a:visited {
      color: #993366;
    }
    a:hover {
      font-weight: bold;
      font-size: 18px;
      transition: all 0.3s ease-in-out;
      color: #009900;
      text-decoration: underline;
    }
    @keyframes blink-animation {
      to {
        visibility: hidden;
      }
    }
    .container {
      border: 2px solid #00bfff;
      margin: 20px;
      padding: 20px;
      background-color: #f0f8ff;
    }
    .marquee {
      width: 100%;
      background-color: #ccffcc;
      color: #003333;
      white-space: nowrap;
      overflow: hidden;
      position: relative;
    }
    .marquee div {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 10s linear infinite;
    }
    @keyframes marquee {
      0% {
        transform: translate(0, 0);
      }
      100% {
        transform: translate(-100%, 0);
      }
    }
  </style>
</head>
<body>
  <div class="marquee"><div>Welcome to the LLM ðŸ’˜ HTML Project - Creating Magic with Code!</div></div>
  <h1>LLM ðŸ’˜ HTML: 90s Edition</h1>
  <div class="container">
    <p><strong class="blink">Explore the Possibilities!</strong></p>
    <p>This project is all about harnessing the power of language models to edit HTML pages in ways never seen before. Join us on this exciting journey!</p>
    <a href="#">Discover our Blog!</a><br>
    <a href="#">Learn about the Technology!</a>
  </div>
</body>
</html>
`,Is=Zf(Ff);var Lf=Je('<div class="absolute bg-opacity-15 bg-orange-400 z-10" id="overlay"></div>'),Bf=Je('<div class="inline-flex text-red-800 text-sm items-center g-2"><div class="inline-block w-4 h-4 bg-red-800 mr-1"></div> <span>You need to enter an API key</span></div>'),Uf=Je('<div class="inline-flex text-green-800 text-sm items-center g-2"><div class="inline-block w-4 h-4 bg-green-800 mr-1 animate-bounce"></div> <span>Generating...</span></div>'),Vf=Je(`<!> <div class="w-3 h-3 absolute bg-red-600 z-30"></div> <div class="absolute dark:bg-slate-800 bg-slate-300 p-4 shadow-lg z-20"><form><textarea placeholder="Type the edit you want here">
        </textarea> <div><button class="rounded-none">Cancel</button> <button class="rounded-none" type="submit">Submit</button> <!></div> <div class="italic text-sm text-wrap max-w-full">Tip: use the <kbd>up</kbd> <kbd>down</kbd> <kbd>left</kbd><kbd>right</kbd> keys to change your selection</div></form></div>`,1),qf=Je('<div><!> <div class="w-full h-full -z-10" id="tgt"><div id="tgt-inner"><!></div></div></div>');function zf(n,e){const t=Bi(e,["children","$$slots","$$events","$$legacy"]);Mr(e,!1);const r=jc(),s=()=>Mc(Is,"$htmlStore",r),a=de(),i=de(),o=de();let c=pt(e,"apiKey",8),l=pt(e,"model",8),u=pt(e,"editMode",8),d=de(!1),f=de(!1),h=de({x:0,y:0}),m=de(void 0),_=de(""),y=de();const T=ss.object({reasoning:ss.string(),html:ss.string()});window.onbeforeunload=function(){return"Are you sure you want to leave?"};function v(j){u()&&(x(d)||(M(d,!0),M(h,{x:j.clientX,y:j.clientY}),x(y).contains(j.target)?M(m,j.target):M(m,x(y)),M(_,"")))}function E(j){const he=new DOMParser().parseFromString(j,"text/html");return he.querySelectorAll("style").forEach(me=>{me.textContent&&(me.textContent=me.textContent.replace(new RegExp("(?<=^|\\W|})html|body(?=\\W|{)","g"),"#tgt-inner"),me.textContent=`@scope (#tgt) {
${me.textContent}
}`)}),he.documentElement.innerHTML}async function A(j){if(j==null||j.preventDefault(),j==null||j.stopPropagation(),x(_).trim()){M(f,!0);let he;try{he=await x(i).beta.chat.completions.parse({model:l(),messages:[{role:"system",content:`You are a web editing bot that goes above and beyond to imagine your client's dreams! Please edit the following html ${s()} and output the result in a JSON format with a reasoning key and an html key.`+(x(m)&&x(m)!==x(y)?"The user is currently referenceing this element "+x(m).outerHTML:"")},{role:"user",content:x(_)}],response_format:Df(T,"HTMLEdit")})}catch(me){console.error(me);return}finally{M(f,!1)}if(he.choices[0].message.parsed){const{reasoning:me,html:kt}=he.choices[0].message.parsed;Is.set(kt)}}M(d,!1),M(_,"")}function I(j){j==null||j.preventDefault(),j==null||j.stopPropagation(),M(d,!1),M(_,"")}Hn(()=>x(m),()=>{var j;M(a,(j=x(m))==null?void 0:j.getBoundingClientRect())}),Hn(()=>Ii(c()),()=>{M(i,new L({apiKey:c(),dangerouslyAllowBrowser:!0}))}),Hn(()=>s(),()=>{console.log(s())}),Hn(()=>s(),()=>{M(o,E(s()))}),Ql(),qs();var C=qf(),O=ve(C);{var $=j=>{var he=Vf(),me=ur(he);{var kt=le=>{var je=Lf();Ft(()=>qr(je,"style",`left: ${x(a).left??""}px; top: ${x(a).top??""}px; width: ${x(a).width??""}px; height: ${x(a).height??""}px;`)),we(le,je)};$t(me,le=>{x(a)!==void 0&&le(kt)})}var pa=xe(me,2),_a=xe(pa,2),Ur=ve(_a),Vr=ve(Ur);fc(Vr);var fl=xe(Vr,2),ga=ve(fl),hl=xe(ga,4);{var ml=le=>{var je=Bf();we(le,je)},pl=le=>{var je=ji(),zn=ur(je);{var Wn=St=>{var Jn=Uf();we(St,Jn)};$t(zn,St=>{x(f)&&St(Wn)},!0)}we(le,je)};$t(hl,le=>{c()?le(pl,!1):le(ml)})}Ft(()=>{qr(pa,"style",`left: ${x(h).x??""}px; top: ${x(h).y??""}px;`),qr(_a,"style",`left: ${x(h).x??""}px; top: ${x(h).y??""}px;`)}),Fi(Vr,()=>x(_),le=>M(_,le)),ht("click",ga,I),ht("submit",Ur,A),ht("keydown",Ur,le=>{var je,zn,Wn,St,Jn,ya,va,ba,wa;switch(le.key){case"Escape":I();break;case"Enter":A();break;default:break;case"ArrowUp":{(je=x(m))!=null&&je.parentElement&&x(y)!==((zn=x(m))==null?void 0:zn.parentElement)&&M(m,(Wn=x(m))==null?void 0:Wn.parentElement);break}case"ArrowDown":{x(m)&&((St=x(m))==null?void 0:St.children.length)>0&&M(m,(Jn=x(m))==null?void 0:Jn.children[0]);break}case"ArrowLeft":{x(m)&&((ya=x(m))!=null&&ya.previousElementSibling)&&M(m,(va=x(m))==null?void 0:va.previousElementSibling);break}case"ArrowRight":{x(m)&&((ba=x(m))!=null&&ba.nextElementSibling)&&M(m,(wa=x(m))==null?void 0:wa.nextElementSibling);break}}}),we(j,he)};$t(O,j=>{x(d)&&j($)})}var B=xe(O,2),V=ve(B),q=ve(V);Cc(q,()=>x(o)),Nc(B,j=>M(y,j),()=>x(y)),Ft(()=>Di(C,t.class)),ht("click",C,v),we(n,C),jr()}var Wf=Je("<option> </option>"),Jf=Je('<div class="shadow dark:bg-slate-800 bg-slate-300 flex gap-2 items-center justify-center p-4"><label for="apikey">OpenAI key</label> <input type="password" id="apikey"> <label for="model">Model</label> <select id="model"></select> <label for="editMode">Edit Mode</label> <input type="checkbox" id="editMode"> <button class="rounded-none">Clear canvas</button></div>'),Hf=Je('<div><!>  <div class="shadow bg-slate-300 dark:bg-slate-800 w-10 h-8 p-1 px-2 mx-auto"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentcolor" version="1.1" id="Layer_1" viewBox="0 0 512 512" xml:space="preserve"><g><g><g><path d="M347.582,198.248L256,289.83l-91.582-91.582c-8.331-8.331-21.839-8.331-30.17,0c-8.331,8.331-8.331,21.839,0,30.17     l106.667,106.667c8.331,8.331,21.839,8.331,30.17,0l106.667-106.667c8.331-8.331,8.331-21.839,0-30.17     C369.42,189.917,355.913,189.917,347.582,198.248z"></path></g></g></g></svg></div></div>');function Xf(n,e){const t=Bi(e,["children","$$slots","$$events","$$legacy"]);Mr(e,!1);let r=pt(e,"apiKey",12),s=pt(e,"model",8),a=pt(e,"editMode",12,!0),i=de(!0);qs();var o=Hf(),c=ve(o);{var l=f=>{var h=Jf(),m=xe(ve(h),2),_=xe(m,4);Rc(_,s);var y;kc(_,5,()=>Ui,wc,(A,I)=>{var C=Wf(),O={},$=ve(C);Ft(()=>{O!==(O=x(I))&&(C.value=(C.__value=x(I))==null?"":x(I)),yc($,x(I))}),we(A,C)});var v=xe(_,4),E=xe(v,2);Ft(()=>{y!==(y=s())&&(_.value=(_.__value=s())==null?"":s(),hs(_,s()))}),Fi(m,r),Oc(v,a),ht("click",E,()=>Is.set("")),we(f,h)};$t(c,f=>{x(i)&&f(l)})}var u=xe(c,2),d=ve(u);Ft(()=>{Di(o,`${t.class??""} svelte-3az2sw`),Tc(d,`${`w-full h-full transform ${x(i)?"":"rotate-180"}`??""} svelte-3az2sw`)}),ht("click",u,()=>{M(i,!x(i))}),we(n,o),jr()}var Kf=Je("<!> <!> <!>",1);function Yf(n,e){Mr(e,!1);let t=de(""),r=de(Ui[0]),s=de(!0);qs();var a=Kf(),i=ur(a);Bc(i);var o=xe(i,2);Xf(o,{class:"absolute left-0 top-0 right-0 z-20",get apiKey(){return x(t)},set apiKey(l){M(t,l)},get model(){return x(r)},set model(l){M(r,l)},get editMode(){return x(s)},set editMode(l){M(s,l)},$$legacy:!0});var c=xe(o,2);zf(c,{class:"w-full h-full",get apiKey(){return x(t)},get model(){return x(r)},get editMode(){return x(s)}}),we(n,a),jr()}vc(Yf,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap";:root,::backdrop{--sans-font:-apple-system,BlinkMacSystemFont,"Avenir Next",Avenir,"Nimbus Sans L",Roboto,"Noto Sans","Segoe UI",Arial,Helvetica,"Helvetica Neue",sans-serif;--mono-font:Consolas,Menlo,Monaco,"Andale Mono","Ubuntu Mono",monospace;--standard-border-radius:5px;--bg:#fff;--accent-bg:#f5f7ff;--text:#212121;--text-light:#585858;--border:#898ea4;--accent:#0d47a1;--accent-hover:#1266e2;--accent-text:var(--bg);--code:#d81b60;--preformatted:#444;--marked:#fd3;--disabled:#efefef}@media (prefers-color-scheme:dark){:root,::backdrop{color-scheme:dark;--bg:#212121;--accent-bg:#2b2b2b;--text:#dcdcdc;--text-light:#ababab;--accent:#ffb300;--accent-hover:#ffe099;--accent-text:var(--bg);--code:#f06292;--preformatted:#ccc;--disabled:#111}img,video{opacity:.8}}*,:before,:after{box-sizing:border-box}textarea,select,input,progress{-webkit-appearance:none;-moz-appearance:none;appearance:none}html{font-family:var(--sans-font);scroll-behavior:smooth}body{color:var(--text);background-color:var(--bg);grid-template-columns:1fr min(45rem,90%) 1fr;margin:0;font-size:1.15rem;line-height:1.5;display:grid}body>*{grid-column:2}body>header{background-color:var(--accent-bg);border-bottom:1px solid var(--border);text-align:center;grid-column:1/-1;padding:0 .5rem 2rem}body>header>:only-child{margin-block-start:2rem}body>header h1{max-width:1200px;margin:1rem auto}body>header p{max-width:40rem;margin:1rem auto}main{padding-top:1.5rem}body>footer{color:var(--text-light);text-align:center;border-top:1px solid var(--border);margin-top:4rem;padding:2rem 1rem 1.5rem;font-size:.9rem}h1{font-size:3rem}h2{margin-top:3rem;font-size:2.6rem}h3{margin-top:3rem;font-size:2rem}h4{font-size:1.44rem}h5{font-size:1.15rem}h6{font-size:.96rem}p{margin:1.5rem 0}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}h1,h2,h3{line-height:1.1}@media only screen and (width<=720px){h1{font-size:2.5rem}h2{font-size:2.1rem}h3{font-size:1.75rem}h4{font-size:1.25rem}}a,a:visited{color:var(--accent)}a:hover{text-decoration:none}button,.button,a.button,input[type=submit],input[type=reset],input[type=button],label[type=button]{border:1px solid var(--accent);background-color:var(--accent);color:var(--accent-text);padding:.5rem .9rem;line-height:normal;text-decoration:none}.button[aria-disabled=true],input:disabled,textarea:disabled,select:disabled,button[disabled]{cursor:not-allowed;background-color:var(--disabled);border-color:var(--disabled);color:var(--text-light)}input[type=range]{padding:0}abbr[title]{cursor:help;text-decoration-line:underline;text-decoration-style:dotted}button:enabled:hover,.button:not([aria-disabled=true]):hover,input[type=submit]:enabled:hover,input[type=reset]:enabled:hover,input[type=button]:enabled:hover,label[type=button]:hover{background-color:var(--accent-hover);border-color:var(--accent-hover);cursor:pointer}.button:focus-visible,button:focus-visible:where(:enabled),input:enabled:focus-visible:where([type=submit],[type=reset],[type=button]){outline:2px solid var(--accent);outline-offset:1px}header>nav{padding:1rem 0 0;font-size:1rem;line-height:2}header>nav ul,header>nav ol{flex-flow:wrap;place-content:space-around center;align-items:center;margin:0;padding:0;list-style-type:none;display:flex}header>nav ul li,header>nav ol li{display:inline-block}header>nav a,header>nav a:visited{border:1px solid var(--border);border-radius:var(--standard-border-radius);color:var(--text);margin:0 .5rem 1rem;padding:.1rem 1rem;text-decoration:none;display:inline-block}header>nav a:hover,header>nav a.current,header>nav a[aria-current=page],header>nav a[aria-current=true]{border-color:var(--accent);color:var(--accent);cursor:pointer}@media only screen and (width<=720px){header>nav a{border:none;padding:0;line-height:1;text-decoration:underline}}aside,details,pre,progress{background-color:var(--accent-bg);border:1px solid var(--border);border-radius:var(--standard-border-radius);margin-bottom:1rem}aside{float:right;width:30%;margin-inline-start:15px;padding:0 15px;font-size:1rem}[dir=rtl] aside{float:left}@media only screen and (width<=720px){aside{float:none;width:100%;margin-inline-start:0}}article,fieldset,dialog{border:1px solid var(--border);border-radius:var(--standard-border-radius);margin-bottom:1rem;padding:1rem}article h2:first-child,section h2:first-child,article h3:first-child,section h3:first-child{margin-top:1rem}section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin:3rem 0;padding:2rem 1rem}section+section,section:first-child{border-top:0;padding-top:0}section+section{margin-top:0}section:last-child{border-bottom:0;padding-bottom:0}details{padding:.7rem 1rem}summary{cursor:pointer;word-break:break-all;margin:-.7rem -1rem;padding:.7rem 1rem;font-weight:700}details[open]>summary+*{margin-top:0}details[open]>summary{margin-bottom:.5rem}details[open]>:last-child{margin-bottom:0}table{border-collapse:collapse;margin:1.5rem 0}figure>table{width:-moz-max-content;width:max-content;margin:0}td,th{border:1px solid var(--border);text-align:start;padding:.5rem}th{background-color:var(--accent-bg);font-weight:700}tr:nth-child(2n){background-color:var(--accent-bg)}table caption{margin-bottom:.5rem;font-weight:700}textarea,select,input,button,.button{font-size:inherit;border-radius:var(--standard-border-radius);box-shadow:none;max-width:100%;margin-bottom:.5rem;padding:.5rem;font-family:inherit;display:inline-block}textarea,select,input{color:var(--text);background-color:var(--bg);border:1px solid var(--border)}label{display:block}textarea:not([cols]){width:100%}select:not([multiple]){background-image:linear-gradient(45deg,transparent 49%,var(--text)51%),linear-gradient(135deg,var(--text)51%,transparent 49%);background-position:calc(100% - 15px),calc(100% - 10px);background-repeat:no-repeat;background-size:5px 5px,5px 5px;padding-inline-end:25px}[dir=rtl] select:not([multiple]){background-position:10px,15px}input[type=checkbox],input[type=radio]{vertical-align:middle;width:-moz-min-content;width:min-content;position:relative}input[type=checkbox]+label,input[type=radio]+label{display:inline-block}input[type=radio]{border-radius:100%}input[type=checkbox]:checked,input[type=radio]:checked{background-color:var(--accent)}input[type=checkbox]:checked:after{content:" ";border-right:solid var(--bg).08em;border-bottom:solid var(--bg).08em;background-color:#0000;border-radius:0;width:.18em;height:.32em;font-size:1.8em;position:absolute;top:.05em;left:.17em;transform:rotate(45deg)}input[type=radio]:checked:after{content:" ";background-color:var(--bg);border-radius:100%;width:.25em;height:.25em;font-size:32px;position:absolute;top:.125em;left:.125em}@media only screen and (width<=720px){textarea,select,input{width:100%}}input[type=color]{height:2.5rem;padding:.2rem}input[type=file]{border:0}hr{background:var(--border);border:none;height:1px;margin:1rem auto}mark{border-radius:var(--standard-border-radius);background-color:var(--marked);color:#000;padding:2px 5px}mark a{color:#0d47a1}img,video{border-radius:var(--standard-border-radius);max-width:100%;height:auto}figure{margin:0;display:block;overflow-x:auto}figure>img,figure>picture>img{margin-inline:auto;display:block}figcaption{text-align:center;color:var(--text-light);margin-block:1rem;font-size:.9rem}blockquote{border-inline-start:.35rem solid var(--accent);color:var(--text-light);margin-block:2rem;margin-inline:2rem 0;padding:.4rem .8rem;font-style:italic}cite{color:var(--text-light);font-size:.9rem;font-style:normal}dt{color:var(--text-light)}code,pre,pre span,kbd,samp{font-family:var(--mono-font);color:var(--code)}kbd{color:var(--preformatted);border:1px solid var(--preformatted);border-bottom:3px solid var(--preformatted);border-radius:var(--standard-border-radius);padding:.1rem .4rem}pre{color:var(--preformatted);max-width:100%;padding:1rem 1.4rem;overflow:auto}pre code{color:var(--preformatted);background:0 0;margin:0;padding:0}progress{width:100%}progress:indeterminate{background-color:var(--accent-bg)}progress::-webkit-progress-bar{border-radius:var(--standard-border-radius);background-color:var(--accent-bg)}progress::-webkit-progress-value{border-radius:var(--standard-border-radius);background-color:var(--accent)}progress::-moz-progress-bar{border-radius:var(--standard-border-radius);background-color:var(--accent);-moz-transition-property:width;transition-property:width;transition-duration:.3s}progress:indeterminate::-moz-progress-bar{background-color:var(--accent-bg)}dialog{max-width:40rem;margin:auto}dialog::backdrop{background-color:var(--bg);opacity:.8}@media only screen and (width<=720px){dialog{max-width:100%;margin:auto 1em}}sup,sub{vertical-align:baseline;position:relative}sup{top:-.4em}sub{top:.3em}.notice{background:var(--accent-bg);border:2px solid var(--border);border-radius:var(--standard-border-radius);margin:2rem 0;padding:1.5rem}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.absolute{position:absolute}.relative{position:relative}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.top-0{top:0}.-z-10{z-index:-10}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.mx-auto{margin-left:auto;margin-right:auto}.mr-1{margin-right:.25rem}.mt-4{margin-top:1rem}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-3{height:.75rem}.h-4{height:1rem}.h-8{height:2rem}.h-full{height:100%}.w-10{width:2.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-full{max-width:100%}.rotate-180{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-bounce{animation:bounce 1s infinite}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.gap-2{gap:.5rem}.text-wrap{text-wrap:wrap}.rounded-none{border-radius:0}.border{border-width:1px}.border-2{border-width:2px}.bg-green-800{--tw-bg-opacity:1;background-color:rgb(22 101 52 / var(--tw-bg-opacity, 1))}.bg-orange-400{--tw-bg-opacity:1;background-color:rgb(251 146 60 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-red-800{--tw-bg-opacity:1;background-color:rgb(153 27 27 / var(--tw-bg-opacity, 1))}.bg-slate-300{--tw-bg-opacity:1;background-color:rgb(203 213 225 / var(--tw-bg-opacity, 1))}.bg-slate-400{--tw-bg-opacity:1;background-color:rgb(148 163 184 / var(--tw-bg-opacity, 1))}.bg-slate-500{--tw-bg-opacity:1;background-color:rgb(100 116 139 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-opacity-10{--tw-bg-opacity:.1}.bg-opacity-15{--tw-bg-opacity:.15}.p-1{padding:.25rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.pt-0{padding-top:0}.text-sm{font-size:.875rem;line-height:1.25rem}.italic{font-style:italic}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}body{font-family:Inter Tight,Arial,sans-serif}html{height:100%;display:flex}body{display:flex;flex-direction:column;width:100%;height:100%}#app{display:flex;flex-direction:column;flex:1;width:100%;height:100%}input,select,textarea,button{border-radius:0}@media (prefers-color-scheme: dark){.dark\:border-white{--tw-border-opacity:1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.dark\:bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.dark\:bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.dark\:text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}}.rotate-180.svelte-3az2sw{transform:rotate(180deg)}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
